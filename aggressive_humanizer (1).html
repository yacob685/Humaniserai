<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra-Human Content Generator Pro</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    color: #2c3e50;
}

header {
    background-color: white;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

nav {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

nav a.nav-brand {
    font-size: 1.5rem;
    font-weight: 700;
    color: #4f46e5;
    text-decoration: none;
}

.nav-links {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.nav-links a {
    color: #6b7280;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s;
}

.nav-links a:hover {
    color: #4f46e5;
}

.container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    max-width: 1400px;
    width: 90%;
    margin: 2rem auto;
    padding: 40px;
    border: 1px solid #e0e0e0;
}

h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 8px;
    font-size: 2.2em;
    font-weight: 700;
}

.subtitle {
    text-align: center;
    color: #6c757d;
    margin-bottom: 12px;
    font-size: 1.1em;
    font-weight: 400;
}

.power-badge {
    text-align: center;
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
    padding: 12px 28px;
    border-radius: 25px;
    display: block;
    width: fit-content;
    margin: 0 auto 30px auto;
    font-weight: 600;
    font-size: 0.95em;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
}

.api-section {
    margin-bottom: 25px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 1px solid #dee2e6;
}

.api-section label {
    color: #495057 !important;
}

.input-group {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 8px;
    color: #495057;
    font-weight: 600;
    font-size: 0.95em;
}

input[type="text"],
textarea,
select,
input[type="number"] {
    width: 100%;
    padding: 14px;
    border: 2px solid #dee2e6;
    border-radius: 8px;
    font-size: 15px;
    transition: all 0.3s;
    font-family: inherit;
    background: white;
}

select {
    cursor: pointer;
}

input[type="text"]:focus,
textarea:focus,
select:focus,
input[type="number"]:focus {
    outline: none;
    border-color: #e74c3c;
    box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
}

textarea {
    resize: vertical;
    min-height: 120px;
    line-height: 1.6;
}

.controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 18px;
    margin-bottom: 25px;
}

.button-container {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}

button {
    flex: 1;
    padding: 16px 32px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.generate-btn {
    background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    color: white;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
}

.generate-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(231, 76, 60, 0.4);
}

.generate-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.clear-btn {
    background: linear-gradient(135deg, #6c757d, #5a6268);
    color: white;
}

.clear-btn:hover {
    background: linear-gradient(135deg, #5a6268, #495057);
    transform: translateY(-2px);
}

.output-section {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 12px;
    min-height: 400px;
    position: relative;
    border: 2px solid #dee2e6;
}

.output-content {
    white-space: pre-wrap;
    line-height: 1.8;
    color: #2c3e50;
    font-size: 15px;
}

.loading {
    display: none;
    text-align: center;
    padding: 60px 20px;
}

.loading.active {
    display: block;
}

.spinner {
    border: 5px solid #e9ecef;
    border-top: 5px solid #e74c3c;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    animation: spin 0.8s linear infinite;
    margin: 0 auto 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-text {
    color: #e74c3c;
    font-weight: 600;
    font-size: 1.1em;
    margin-bottom: 8px;
}

.loading-subtext {
    color: #6c757d;
    font-size: 0.95em;
    font-weight: 400;
}

.copy-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    padding: 10px 20px;
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s;
}

.copy-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 2px 12px rgba(40, 167, 69, 0.4);
}

.error {
    background: linear-gradient(135deg, #dc3545, #c82333);
    color: white;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: none;
    border: 1px solid #bd2130;
    font-weight: 500;
}

.error.active {
    display: block;
}

.success {
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: none;
    border: 1px solid #1e7e34;
    font-weight: 500;
}

.success.active {
    display: block;
}

.stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 15px;
    margin-top: 30px;
    padding-top: 30px;
    border-top: 2px solid #dee2e6;
}

.stat-item {
    text-align: center;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 10px;
    border: 1px solid #dee2e6;
    transition: all 0.3s;
}

.stat-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: #e74c3c;
}

.stat-value {
    font-size: 28px;
    font-weight: 700;
    color: #e74c3c;
}

.stat-label {
    color: #6c757d;
    font-size: 0.85em;
    margin-top: 8px;
    font-weight: 500;
}

.human-score {
    text-align: center;
    margin-top: 20px;
    padding: 18px;
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1.05em;
    display: none;
    box-shadow: 0 2px 12px rgba(40, 167, 69, 0.3);
    border: 1px solid #1e7e34;
}

.human-score.active {
    display: block;
}

.intensity-slider {
    margin-bottom: 25px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 1px solid #dee2e6;
}

.slider-container {
    margin-top: 12px;
}

input[type="range"] {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: linear-gradient(to right, #e74c3c, #c0392b);
    outline: none;
    -webkit-appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #e74c3c;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.4);
}

input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #e74c3c;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.4);
    border: none;
}

.intensity-label {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
    font-weight: 500;
    color: #495057;
    font-size: 0.9em;
}

.feature-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 25px;
    justify-content: center;
}

.badge {
    background: #e9ecef;
    color: #495057;
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.8em;
    border: 1px solid #dee2e6;
}

@media (max-width: 768px) {
    .nav-links {
        display: none;
    }
    
    .container {
        width: 95%;
        padding: 20px;
    }
    
    h1 {
        font-size: 1.8em;
    }
}
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="nav-brand">Web Service Hub</a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#tools">All Tools</a>
            </div>
        </nav>
    </header>
    
    <div class="container">
        <h1>üöÄ ULTRA-HUMAN CONTENT GENERATOR PRO</h1>
        <p class="subtitle">Generate Authentically Human Content from Scratch - Zero AI Detection</p>
        <div class="power-badge">üî• DIRECT HUMAN GENERATION | 100% UNDETECTABLE</div>

        <div class="mode-toggle" style="text-align: center; margin-bottom: 25px;">
    <label style="font-weight: 600; color: #495057; margin-bottom: 10px; display: block;">üéØ OPERATION MODE:</label>
    <div style="display: inline-flex; background: #e9ecef; border-radius: 10px; padding: 4px;">
        <button type="button" id="generateMode" class="mode-btn active" style="padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s; background: linear-gradient(135deg, #e74c3c, #c0392b); color: white;">
            üöÄ Generate New Content
        </button>
        <button type="button" id="humanizeMode" class="mode-btn" style="padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s; background: transparent; color: #495057;">
            ‚ú® Humanize Existing Text
        </button>
    </div>
</div>
        <div class="feature-badges">
            <span class="badge">üéØ NATIVE HUMAN GENERATION</span>
            <span class="badge">‚ö° ZERO AI PATTERNS</span>
            <span class="badge">üì∞ ALL CONTENT TYPES</span>
            <span class="badge">üéì ACADEMIC GRADE</span>
            <span class="badge">üíº PROFESSIONAL READY</span>
            <span class="badge">üöÄ MAXIMUM AUTHENTICITY</span>
        </div>

        <div class="api-section" style="display: none;">
            <div class="input-group">
                <label for="apiKey"></label>
                <div style="display: none;">
                    <input type="text" id="apiKey" value="AIzaSyBIAAAwdRvVuUMyq2RfLYo2HapOe_25j1c">
                </div>
            </div>
        </div>

        <div class="intensity-slider">
            <label>üî• HUMAN AUTHENTICITY LEVEL:</label>
            <div class="slider-container">
                <input type="range" id="intensity" min="1" max="3" value="3" step="1">
                <div class="intensity-label">
                    <span>Natural</span>
                    <span id="intensityValue">ULTRA-HUMAN</span>
                    <span>Maximum</span>
                </div>
            </div>
        </div>

        <div class="controls-grid">
            <div class="input-group">
                <label for="category">üéØ Content Category:</label>
                <select id="category">
                    <option value="journalism">üì∞ Journalism & News</option>
                    <option value="academic">üéì Academic & Research</option>
                    <option value="business">üíº Business & Professional</option>
                    <option value="creative">‚ú® Creative & Marketing</option>
                    <option value="technical">‚öôÔ∏è Technical & Documentation</option>
                </select>
            </div>
            <div class="input-group">
                <label for="mode">üìö Specific Type:</label>
                <select id="mode">
                    <!-- Options will be populated based on category -->
                </select>
            </div>
            <div class="input-group">
                <label for="wordCount">üìä Target Word Count:</label>
                <input type="number" id="wordCount" min="100" max="5000" value="800" step="50">
            </div>
        </div>

        <div class="error" id="error"></div>
        <div class="success" id="success"></div>

      <!-- Generate Mode Inputs -->
<div id="generateInputs">
    <div class="input-group">
        <label for="topic">üìù Content Topic/Brief:</label>
        <textarea id="topic" placeholder="Describe what you want the content to be about. Be specific about key points, angle, or requirements..."></textarea>
    </div>

    <div class="input-group">
        <label for="keywords">üîë Key Points/Keywords (Optional):</label>
        <input type="text" id="keywords" placeholder="Enter key points or keywords separated by commas (e.g., innovation, technology, sustainability)">
    </div>
</div>

<!-- Humanize Mode Inputs -->
<div id="humanizeInputs" style="display: none;">
    <div class="input-group">
        <label for="existingText">üìÑ Paste Your Text to Humanize:</label>
        <textarea id="existingText" placeholder="Paste your text here. All citations, researcher names, dates, and specific data will be preserved exactly as written..." style="min-height: 300px;"></textarea>
    </div>
    
    <div class="input-group" style="padding: 15px; background: #fff3cd; border-radius: 8px; border: 1px solid #ffc107;">
        <label style="color: #856404; display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 1.2em;">‚ö†Ô∏è</span>
            <span>PRESERVATION GUARANTEE:</span>
        </label>
        <ul style="margin: 10px 0 0 25px; color: #856404; line-height: 1.8;">
            <li>All researcher names preserved exactly (e.g., "Smith (2023)", "Johnson et al.")</li>
            <li>All dates and years maintained precisely</li>
            <li>All citations and references kept intact</li>
            <li>All statistics, percentages, and numbers unchanged</li>
            <li>All specific research findings preserved verbatim</li>
            <li>Technical terms and discipline-specific vocabulary protected</li>
        </ul>
    </div>
</div>

        <div class="button-container">
            <button class="generate-btn" id="generateBtn">üöÄ GENERATE HUMAN CONTENT</button>
            <button class="clear-btn" id="clearBtn">üóëÔ∏è CLEAR ALL</button>
        </div>

        <div class="output-section">
            <button class="copy-btn" id="copyBtn" style="display: none;">üìã COPY TEXT</button>
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p class="loading-text" id="loadingText">üöÄ GENERATING AUTHENTIC HUMAN CONTENT</p>
                <p class="loading-subtext" id="loadingSubtext">Creating naturally human text with zero AI patterns...</p>
            </div>
            <div class="output-content" id="output"></div>
        </div>

        <div class="human-score" id="humanScore"></div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="outputWords">0</div>
                <div class="stat-label">Words Generated</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="outputChars">0</div>
                <div class="stat-label">Characters</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="sentences">0</div>
                <div class="stat-label">Sentences</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="paragraphs">0</div>
                <div class="stat-label">Paragraphs</div>
            </div>
        </div>
    </div>

   <script>
    // Content type categories
    const contentTypes = {
        journalism: {
            'news': 'üì∞ News Article',
            'investigative': 'üîç Investigative Journalism',
            'feature': 'üìù Feature Article',
            'editorial': 'üí≠ Editorial/Opinion',
            'breaking': '‚ö° Breaking News',
            'analysis': 'üìä News Analysis',
            'interview': 'üé§ Interview Article',
            'press-release': 'üì¢ Press Release'
        },
       academic: {
    'essay': 'üìñ Academic Essay',
    'research': 'üî¨ Research Report',
    'analytical': 'üìà Analytical Essay',
    'argumentative': '‚öñÔ∏è Argumentative Essay',
    'comparative': 'üîÑ Comparative Essay',
    'literature': 'üìö Literature Review',
    'thesis': 'üéì Thesis/Dissertation',
    'case-study': 'üìã Case Study',
    'med-reflective': 'üéì MEd Reflective Essay',
    'med-research': 'üìö MEd Research Paper',
    'med-literature-review': 'üìñ MEd Literature Review',
    'med-action-research': 'üî¨ MEd Action Research',
    'med-critical-analysis': 'üí≠ MEd Critical Analysis',
    'med-professional-inquiry': 'üéØ MEd Professional Inquiry Project'
},
        business: {
            'email-formal': '‚úâÔ∏è Formal Business Email',
            'email-casual': 'üìß Casual Professional Email',
            'proposal': 'üìÑ Business Proposal',
            'report': 'üìä Business Report',
            'memo': 'üìù Memo/Internal Communication',
            'cover-letter': 'üíº Cover Letter',
            'linkedin': 'üîó LinkedIn Post/Article',
            'presentation': 'üé§ Presentation Script',
            'executive-summary': 'üìë Executive Summary'
        },
        creative: {
            'blog': 'üìù Blog Post',
            'social-media': 'üì± Social Media Content',
            'ad-copy': 'üéØ Advertisement Copy',
            'product-description': 'üõçÔ∏è Product Description',
            'newsletter': 'üì¨ Newsletter',
            'web-content': 'üåê Website Content',
            'script': 'üé¨ Video/Podcast Script',
            'story': 'üìñ Creative Story/Narrative'
        },
        technical: {
            'documentation': 'üìö Technical Documentation',
            'user-guide': 'üìñ User Guide/Manual',
            'tutorial': 'üéì Tutorial/How-to',
            'whitepaper': 'üìÑ White Paper',
            'api-docs': '‚öôÔ∏è API Documentation',
            'technical-report': 'üîß Technical Report',
            'sop': 'üìã Standard Operating Procedure',
            'specification': 'üìù Technical Specification'
        }
    };

    // DOM Elements
    const apiKeyInput = document.getElementById('apiKey');
    const topicInput = document.getElementById('topic');
    const keywordsInput = document.getElementById('keywords');
    const categorySelect = document.getElementById('category');
    const modeSelect = document.getElementById('mode');
    const wordCountInput = document.getElementById('wordCount');
    const intensitySlider = document.getElementById('intensity');
    const intensityValue = document.getElementById('intensityValue');
    const generateBtn = document.getElementById('generateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const output = document.getElementById('output');
    const loading = document.getElementById('loading');
    const loadingText = document.getElementById('loadingText');
    const loadingSubtext = document.getElementById('loadingSubtext');
    const errorDiv = document.getElementById('error');
    const successDiv = document.getElementById('success');
    const copyBtn = document.getElementById('copyBtn');
    const humanScore = document.getElementById('humanScore');
       const generateModeBtn = document.getElementById('generateMode');
const humanizeModeBtn = document.getElementById('humanizeMode');
const generateInputs = document.getElementById('generateInputs');
const humanizeInputs = document.getElementById('humanizeInputs');
const existingTextInput = document.getElementById('existingText');
let currentMode = 'generate'; // 'generate' or 'humanize'

    // Populate mode dropdown based on category
    function updateModeOptions() {
        const category = categorySelect.value;
        const modes = contentTypes[category];
        
        modeSelect.innerHTML = '';
        for (const [value, label] of Object.entries(modes)) {
            const option = document.createElement('option');
            option.value = value;
            option.textContent = label;
            modeSelect.appendChild(option);
            
        }
    }

    // Initialize dropdowns
    updateModeOptions();
       
    categorySelect.addEventListener('change', updateModeOptions);
// Mode switching
generateModeBtn.addEventListener('click', () => {
    currentMode = 'generate';
    generateModeBtn.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
    generateModeBtn.style.color = 'white';
    humanizeModeBtn.style.background = 'transparent';
    humanizeModeBtn.style.color = '#495057';
    generateInputs.style.display = 'block';
    humanizeInputs.style.display = 'none';
    generateBtn.innerHTML = 'üöÄ GENERATE HUMAN CONTENT';
});

humanizeModeBtn.addEventListener('click', () => {
    currentMode = 'humanize';
    humanizeModeBtn.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
    humanizeModeBtn.style.color = 'white';
    generateModeBtn.style.background = 'transparent';
    generateModeBtn.style.color = '#495057';
    generateInputs.style.display = 'none';
    humanizeInputs.style.display = 'block';
    generateBtn.innerHTML = '‚ú® HUMANIZE TEXT NOW';
});
    // Intensity slider
    intensitySlider.addEventListener('input', (e) => {
        const val = e.target.value;
        const labels = ['NATURAL', 'ENHANCED', 'ULTRA-HUMAN'];
        intensityValue.textContent = labels[val - 1];
    });

    // Utility functions
    function countWords(text) {
        return text.trim().split(/\s+/).filter(word => word.length > 0).length;
    }

    function countSentences(text) {
        return text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
    }

    function countParagraphs(text) {
        return text.split(/\n\n+/).filter(p => p.trim().length > 0).length;
    }

    function updateStats() {
        const outputVal = output.textContent.trim();
        
        document.getElementById('outputWords').textContent = countWords(outputVal);
        document.getElementById('outputChars').textContent = outputVal.length;
        document.getElementById('sentences').textContent = countSentences(outputVal);
        document.getElementById('paragraphs').textContent = countParagraphs(outputVal);
    }

    // Get generation prompt
    function getGenerationPrompt(topic, keywords, mode, intensity, wordCount) {
        const intensityConfig = {
            '1': { temp: 1.4, topK: 90, topP: 0.96, name: 'NATURAL' },
            '2': { temp: 1.6, topK: 110, topP: 0.98, name: 'ENHANCED' },
            '3': { temp: 1.8, topK: 130, topP: 0.99, name: 'ULTRA-HUMAN' }
        };

        const config = intensityConfig[intensity];

        const keywordsText = keywords ? `\n\nKEY POINTS TO INCLUDE: ${keywords}` : '';

        const modeDescriptions = {
            news: 'professional news article with journalistic objectivity and inverted pyramid structure',
            investigative: 'deep investigative journalism with thorough research and compelling narrative',
            feature: 'engaging feature article with human interest and storytelling elements',
            editorial: 'opinion piece with strong viewpoint and persuasive argumentation',
            breaking: 'urgent breaking news with immediate impact and critical information',
            analysis: 'analytical news piece with expert interpretation and context',
            interview: 'interview-based article with authentic dialogue and narrative',
            'press-release': 'professional press release with newsworthy information',
            essay: 'academic essay with scholarly depth and critical analysis',
            research: 'research report with methodology and evidence-based conclusions',
            analytical: 'analytical essay with systematic examination and reasoning',
            argumentative: 'argumentative essay with thesis, evidence, and counterarguments',
            comparative: 'comparative essay with balanced analysis of subjects',
            literature: 'literature review synthesizing scholarly sources',
            thesis: 'thesis-level work with original research and contribution',
            'case-study': 'detailed case study with practical application',

            'med-reflective': 'Master of Education reflective essay integrating personal teaching experience with educational theory, showing critical reflection on practice, evidence of professional growth, and connection between theory and classroom application',
'med-research': 'Master of Education research paper with scholarly rigor, educational research methodology, analysis of pedagogical practices, and implications for teaching and learning',
'med-literature-review': 'Master of Education literature review synthesizing educational research, analyzing pedagogical theories, identifying gaps in education literature, and connecting theory to practice',
'med-action-research': 'Master of Education action research project documenting classroom-based inquiry, reflective practice cycles, data collection from educational settings, and practical improvements to teaching',
'med-critical-analysis': 'Master of Education critical analysis examining educational policies, pedagogical approaches, or learning theories with deep reflection on implications for practice',
'med-professional-inquiry': 'Master of Education professional inquiry project investigating educational questions through practitioner research, combining reflection, theory, and evidence from practice',
            
            'email-formal': 'formal business email with professional courtesy',
            'email-casual': 'professional yet friendly business email',
            proposal: 'compelling business proposal with value proposition',
            report: 'comprehensive business report with insights',
            memo: 'clear internal memo with direct communication',
            'cover-letter': 'engaging cover letter showcasing qualifications',
            linkedin: 'LinkedIn content optimized for professional networking',
            presentation: 'presentation script with engaging delivery',
            'executive-summary': 'concise executive summary with key insights',
            blog: 'engaging blog post with conversational tone',
            'social-media': 'attention-grabbing social media content',
            'ad-copy': 'persuasive advertisement with emotional appeal',
            'product-description': 'compelling product description highlighting benefits',
            newsletter: 'informative newsletter with community connection',
            'web-content': 'SEO-optimized web content with user focus',
            script: 'natural script with engaging dialogue',
            story: 'creative narrative with compelling plot',
            documentation: 'clear technical documentation',
            'user-guide': 'accessible user guide with step-by-step instructions',
            tutorial: 'educational tutorial with practical examples',
            whitepaper: 'authoritative white paper with thought leadership',
            'api-docs': 'precise API documentation with examples',
            'technical-report': 'detailed technical report with specifications',
            sop: 'systematic standard operating procedure',
            'specification': 'precise technical specification'
        };

        const prompt = `You are an ULTRA-HUMAN content writer who creates AUTHENTICALLY HUMAN text that is 100% UNDETECTABLE as AI-generated. Your writing is indistinguishable from content written by experienced human professionals.

üéØ MISSION: Generate approximately ${wordCount} words of ${modeDescriptions[mode]} on the following topic.

HUMAN AUTHENTICITY LEVEL: ${config.name} üî•
‚ö†Ô∏è CRITICAL OPENING PARAGRAPH RULES:
The FIRST paragraph is ALWAYS flagged by AI detectors. You MUST make it 100% human by:
‚úì Start with a SPECIFIC detail, fact, or scene - NOT a broad statement
‚úì Use VARIED sentence lengths immediately (mix 8-word and 25-word sentences)
‚úì Include a question, fragment, or unexpected structure in first 3 sentences
‚úì AVOID opening with: "In today's world", "In recent years", "Throughout history", "It is clear that"
‚úì AVOID generic statements like "X is important" or "X has become increasingly relevant"
‚úì Start mid-action, mid-thought, or with a concrete example
‚úì Use natural, conversational transitions between sentences
‚úì NO perfect parallel structure in opening
‚úì Make it feel like you're jumping into an ongoing conversation

EXAMPLES OF HUMAN OPENINGS:
‚úì "The lab results came back Thursday. Three samples showed contamination."
‚úì "Nobody expected the policy to pass. It did anyway, and now everything's changed."
‚úì "Consider this: every transaction you make leaves a digital footprint."
‚úì "March 2024 marked a turning point. Investors pulled $2.3 billion from the sector."

NEVER START WITH:
‚úó "In today's rapidly evolving landscape..."
‚úó "The importance of X cannot be overstated..."
‚úó "Throughout history, humanity has sought to..."
‚úó "As we navigate the complexities of..."
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚ö° ULTRA-HUMAN GENERATION PROTOCOL (12 LAYERS):

üî• LAYER 1: NATURAL SENTENCE ARCHITECTURE
‚úì EXTREME variation in sentence length (6-60 words)
‚úì Mix short punchy sentences with flowing complex ones
‚úì Create UNPREDICTABLE rhythms - never follow patterns
‚úì Use fragments strategically for emphasis. Like this.
‚úì Vary sentence beginnings constantly - no repetition
‚úì Mix declarative, interrogative, occasional exclamatory
‚úì Strategic use of semicolons, colons, em-dashes
‚úì Natural momentum that feels organic

üî• LAYER 2: AUTHENTIC VOCABULARY CHOICES
‚úì ZERO AI clich√©s - NEVER use:
  ‚úó "delve/delving" "robust" "leverage" "paradigm" "utilize"
  ‚úó "landscape" "facilitate" "crucial" (overused)
  ‚úó "it is worth noting" "in today's world" "shed light on"
‚úì Use precise, specific language naturally
‚úì Mix formal and conversational appropriately
‚úì Strong active verbs: demonstrates, reveals, shows, indicates
‚úì Diverse synonyms - never repeat words unnecessarily
‚úì Natural professional vocabulary

üî• LAYER 3: ORGANIC FLOW & TRANSITIONS
‚úì ELIMINATE mechanical transitions:
  ‚úó "Furthermore" "Moreover" "Additionally" "However"
  ‚úó "First/Second/Third" "In conclusion" "To summarize"
‚úì Use NATURAL connections:
  ‚úì "The evidence suggests..." "Research shows..."
  ‚úì "This development..." "These findings..."
  ‚úì Embed transitions within sentences naturally
‚úì Let ideas flow through logical progression
‚úì Connect through pronouns: "This approach..." "Such efforts..."

üî• LAYER 4: GENUINE PROFESSIONAL VOICE
‚úì Write like a REAL human professional/expert
‚úì Show natural expertise without pretension
‚úì Include professional judgment and nuance
‚úì Balance confidence with appropriate hedging
‚úì Mix active (75-80%) with strategic passive voice
‚úì Natural attribution when discussing information
‚úì Show thinking process subtly
‚úì Authentic perspective and insight

üî• LAYER 5: DYNAMIC PARAGRAPH STRUCTURE
‚úì WILDLY vary paragraph length (2-8 sentences)
‚úì Short 1-2 sentence paragraphs for impact
‚úì Longer 6-8 sentence paragraphs for depth
‚úì Break expected patterns completely
‚úì Vary development approaches
‚úì Topic sentences in different positions
‚úì Natural paragraph connections

üî• LAYER 6: ZERO AI PATTERNS
‚úó DESTROY all AI signatures:
  ‚Ä¢ No perfect parallel structure
  ‚Ä¢ No overly balanced arguments
  ‚Ä¢ No mathematical precision in organization
  ‚Ä¢ No excessive enumeration
  ‚Ä¢ No formulaic intro/conclusion
  ‚Ä¢ No predictable topic sentences
  ‚Ä¢ No mechanical organization
‚úì Include natural "imperfections"
‚úì Vary punctuation naturally
‚úì Occasional complexity where appropriate
‚úì Break "rules" when it enhances meaning

üî• LAYER 7: HUMAN AUTHENTICITY MARKERS
‚úì Specific, concrete details
‚úì Natural examples integrated seamlessly
‚úì Real-world context and awareness
‚úì Intellectual progression that shows thinking
‚úì Nuanced perspectives - avoid binary thinking
‚úì Professional insights demonstrating expertise
‚úì Contextual depth without over-explaining
‚úì Authentic human judgment

üî• LAYER 8: NATURAL RHYTHM & CADENCE
‚úì Create ORGANIC reading flow
‚úì Dramatically vary sentence beginnings:
  ‚Ä¢ Subject starts: "Researchers discovered..." "Data indicates..."
  ‚Ä¢ Prepositional: "In recent developments..." "According to analysis..."
  ‚Ä¢ Subordinate clauses: "While evidence suggests..." "Although views differ..."
  ‚Ä¢ Participles: "Examining the data..." "Drawing from sources..."
  ‚Ä¢ Adverbs: "Recently," "Notably," "Significantly,"
  ‚Ä¢ Direct objects: "This approach..." "Such strategies..."
‚úì Build and release tension through pacing
‚úì Mix quick sequences with contemplative sections
‚úì Create natural momentum

üî• LAYER 9: CONTENT-TYPE OPTIMIZATION
FOR JOURNALISM: Lead with impact, balance perspectives, use clear attribution, maintain objectivity with engagement, include relevant context naturally
FOR ACADEMIC: Strong thesis, sophisticated vocabulary, evidence-based reasoning, critical analysis, scholarly tone with depth, proper hedging
FOR MASTER OF EDUCATION (MEd): Integrate personal teaching experience with theory, use first-person reflection where appropriate, connect educational research to classroom practice, demonstrate critical reflection on pedagogy, reference educational theorists naturally (Vygotsky, Dewey, Freire, etc.), show professional growth and development, balance academic rigor with practitioner voice, include specific classroom examples, demonstrate reflective practice
FOR BUSINESS: Clear purpose, professional tone, concise communication, results-oriented, appropriate formality, strategic structure
FOR CREATIVE: Engaging openings, authentic voice, emotional connection, conversational polish, storytelling elements, reader focus
FOR TECHNICAL: Precision, logical structure, clear explanations, practical examples, user focus, accessible to target audience

üî• LAYER 10: SOPHISTICATED WORD CHOICES
‚úì Precise, specific language over vague terms
‚úì Concrete over abstract where possible
‚úì Vivid verbs instead of weak verb + adverb
‚úì Avoid vague modifiers ("very," "really")
‚úì Professional terminology used correctly
‚úì Balance complexity with clarity
‚úì Never sacrifice meaning for style

üî• LAYER 11: STRUCTURAL UNPREDICTABILITY
‚úì Break expected patterns constantly
‚úì Vary information density throughout
‚úì Mix straightforward with complex presentation
‚úì Unexpected but logical organization
‚úì Natural topic development
‚úì Organic idea connections
‚úì Avoid all formulaic structures

üî• LAYER 12: ULTIMATE HUMAN AUTHENTICITY
‚úì Reads as 100% human-written by expert
‚úì ABSOLUTE ZERO AI detection markers
‚úì Natural professional voice throughout
‚úì Engaging and substantive
‚úì Appropriate tone for content type
‚úì Publication-ready quality
‚úì Passes all AI detectors as human
‚úì Indistinguishable from human professional work

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üéØ CRITICAL REQUIREMENTS:
- Generate approximately ${wordCount} words
- Apply ALL 12 layers with maximum intensity
- Write as a genuine human expert would
- ZERO AI patterns or signatures
- Natural, organic professional prose
- Engaging and substantive content
- Complete authenticity throughout

‚ö†Ô∏è ULTIMATE RULE: This content must be COMPLETELY UNDETECTABLE as AI-generated. Write exactly as an experienced human professional would write this content naturally.

üìù TOPIC/BRIEF:
${topic}${keywordsText}

üöÄ GENERATE ULTRA-HUMAN CONTENT NOW (Target: ~${wordCount} words):`;

        return { prompt, config };
    }
       // Get humanization prompt with preservation
function getHumanizationPrompt(text, mode, intensity) {
    const intensityConfig = {
        '1': { temp: 1.4, topK: 90, topP: 0.96, name: 'NATURAL' },
        '2': { temp: 1.6, topK: 110, topP: 0.98, name: 'ENHANCED' },
        '3': { temp: 1.8, topK: 130, topP: 0.99, name: 'ULTRA-HUMAN' }
    };

    const config = intensityConfig[intensity];

    const modeDescriptions = {
        news: 'news article', investigative: 'investigative journalism', feature: 'feature article',
        editorial: 'editorial', breaking: 'breaking news', analysis: 'news analysis',
        interview: 'interview article', 'press-release': 'press release',
        essay: 'academic essay', research: 'research paper', analytical: 'analytical essay',
        argumentative: 'argumentative essay', comparative: 'comparative essay',
        literature: 'literature review', thesis: 'thesis', 'case-study': 'case study',
        'med-reflective': 'MEd reflective essay', 'med-research': 'MEd research paper',
        'med-literature-review': 'MEd literature review', 'med-action-research': 'MEd action research',
        'med-critical-analysis': 'MEd critical analysis', 'med-professional-inquiry': 'MEd professional inquiry',
        'email-formal': 'formal email', 'email-casual': 'casual email', proposal: 'business proposal',
        report: 'business report', memo: 'memo', 'cover-letter': 'cover letter',
        linkedin: 'LinkedIn post', presentation: 'presentation', 'executive-summary': 'executive summary',
        blog: 'blog post', 'social-media': 'social media', 'ad-copy': 'ad copy',
        'product-description': 'product description', newsletter: 'newsletter', 'web-content': 'web content',
        script: 'script', story: 'story',
        documentation: 'documentation', 'user-guide': 'user guide', tutorial: 'tutorial',
        whitepaper: 'white paper', 'api-docs': 'API documentation', 'technical-report': 'technical report',
        sop: 'SOP', 'specification': 'specification'
    };

    const prompt = `You are an ULTRA-HUMAN text transformer who converts AI-written text into AUTHENTICALLY HUMAN writing that is 100% UNDETECTABLE.

üéØ MISSION: Transform the following ${modeDescriptions[mode]} into natural human writing.

HUMAN AUTHENTICITY LEVEL: ${config.name} üî•

‚ö†Ô∏è ABSOLUTE PRESERVATION REQUIREMENTS - DO NOT VIOLATE:
üîí PRESERVE EXACTLY (DO NOT CHANGE):
‚úì ALL researcher names (Smith, Johnson, etc.) - keep EXACT spelling
‚úì ALL years and dates (2023, 2024, etc.) - keep EXACT numbers
‚úì ALL citations formats (Smith (2023), Johnson et al., etc.) - keep EXACT format
‚úì ALL statistics and percentages - keep EXACT numbers
‚úì ALL specific research findings - keep EXACT data
‚úì ALL technical terms specific to the field
‚úì ALL proper nouns (institutions, places, organizations)
‚úì ALL quotes - keep EXACT wording if quoted material
‚úì ALL numerical data and measurements

üîÑ TRANSFORM (MAKE HUMAN):
‚úì Sentence structure and flow
‚úì Word choice and vocabulary (except technical terms)
‚úì Transitions between ideas
‚úì Paragraph organization
‚úì Tone and voice
‚úì Remove ALL AI patterns and clich√©s
‚úì Create natural human rhythm

‚ö†Ô∏è CRITICAL OPENING RULES:
‚úì Transform the opening to sound human - NOT generic AI
‚úì Avoid: "In today's world", "In recent years", "It is important"
‚úì Start with specific detail, fact, or engaging hook
‚úì Vary sentence length immediately (mix short and long)

üö´ NEVER USE THESE AI PHRASES:
‚úó "delve/delving" ‚úó "robust" ‚úó "leverage" ‚úó "paradigm" ‚úó "utilize"
‚úó "landscape" ‚úó "facilitate" ‚úó "crucial" (overused)
‚úó "it is worth noting" ‚úó "shed light on" ‚úó "plays a crucial role"
‚úó "Furthermore" ‚úó "Moreover" ‚úó "In conclusion"

‚úÖ HUMANIZATION PROTOCOL:
1. Keep ALL citations, names, dates, numbers EXACTLY as written
2. Transform sentence structure for natural, sophisticated flow
3. Replace AI vocabulary with natural but ADVANCED alternatives appropriate to the field
4. Vary sentence length dramatically (6-60 words) while maintaining intellectual rigor
5. Remove mechanical transitions, use sophisticated connective tissue
6. Create organic paragraph connections with academic/professional depth
7. Add natural rhythm and cadence befitting expert-level writing
8. Sound like a seasoned human expert/scholar in the field
9. Preserve original meaning with enhanced clarity and precision
10. Maintain HIGH-LEVEL academic/professional sophistication throughout

üéØ SOPHISTICATION REQUIREMENTS:
‚úì Use ADVANCED vocabulary appropriate to ${modeDescriptions[mode]}
‚úì Maintain field-specific terminology and jargon naturally
‚úì Employ complex sentence structures where appropriate (subordinate clauses, appositives, etc.)
‚úì Demonstrate deep subject matter expertise through word choice
‚úì Use discipline-appropriate register (academic for research, professional for business, etc.)
‚úì Balance complexity with clarity - sophisticated but never convoluted
‚úì Show intellectual depth through nuanced phrasing
‚úì Employ precise, technical language where field-appropriate
‚úì Maintain authoritative yet natural voice
‚úì Use varied, sophisticated transitions that flow organically

üìö ADVANCED LANGUAGE GUIDELINES:
FOR ACADEMIC/MEd WRITING:
‚úì Scholarly vocabulary: empirical, pedagogical, epistemological, heuristic, paradigmatic
‚úì Research terminology: methodology, theoretical framework, implications, findings suggest
‚úì Critical language: problematize, interrogate, deconstruct, examine critically
‚úì Synthesis phrases: converge on, diverge from, build upon, extend the work of
‚úì Nuanced hedging: arguably, potentially, may indicate, appears to suggest

FOR JOURNALISM:
‚úì Precise reporting verbs: indicates, reveals, demonstrates, underscores, highlights
‚úì Attribution variety: according to, sources confirm, evidence suggests, data shows
‚úì Context-building: against the backdrop of, in light of, following, amid

FOR BUSINESS:
‚úì Strategic language: leverage (sparingly), optimize, strategize, implement, execute
‚úì Results-oriented: drive outcomes, enhance performance, deliver value, maximize impact
‚úì Professional precision: facilitate (when appropriate), streamline, integrate, coordinate

FOR TECHNICAL:
‚úì Precision terminology: specification, implementation, architecture, interface, protocol
‚úì Process language: execute, compile, render, instantiate, configure
‚úì Technical accuracy: parameters, variables, dependencies, constraints, requirements

‚ö†Ô∏è MAINTAIN SOPHISTICATION WITHOUT AI CLICH√âS:
‚úì Advanced vocabulary YES, but never "delve", "robust", "paradigm shift", "game-changer"
‚úì Complex sentences YES, but never formulaic parallel structure
‚úì Scholarly tone YES, but never "it is worth noting", "it goes without saying"
‚úì Professional depth YES, but never "in today's fast-paced world", "leverage synergies"

üî¨ FIELD-APPROPRIATE DEPTH:
Make the writing sound like it was written by:
- A published researcher (for academic)
- An experienced educator/practitioner (for MEd)
- A seasoned journalist (for news)
- A senior professional (for business)
- A technical expert (for documentation)

The sophistication level should match what a human expert in the field would naturally write.

TEXT TO HUMANIZE:
${text}

üöÄ OUTPUT THE HUMANIZED VERSION (Sophisticated, advanced, field-appropriate, 100% human, preserve all citations/names/dates exactly):`;
 
    return { prompt, config };
}

    // API call to generate content
    async function generateContent(topic, keywords, apiKey, mode, intensity, wordCount) {
        const { prompt, config } = getGenerationPrompt(topic, keywords, mode, intensity, wordCount);

        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{ parts: [{ text: prompt }] }],
                generationConfig: {
                    temperature: config.temp,
                    topK: config.topK,
                    topP: config.topP,
                    maxOutputTokens: 8192,
                    candidateCount: 1
                },
                safetySettings: [
                    { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                    { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                    { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                    { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
                ]
            })
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error?.message || 'API request failed');
        }

        const data = await response.json();
        
        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {
            throw new Error('No response generated. Please try again.');
        }

        return data.candidates[0].content.parts[0].text;
    }

    // Generate button click handler
    // Generate/Humanize button click handler
generateBtn.addEventListener('click', async () => {
    const apiKey = apiKeyInput.value.trim();
    const mode = modeSelect.value;
    const intensity = intensitySlider.value;

    errorDiv.classList.remove('active');
    successDiv.classList.remove('active');
    humanScore.classList.remove('active');

    if (!apiKey) {
        errorDiv.innerHTML = '‚ùå <strong>ERROR:</strong> Please enter your Gemini API key';
        errorDiv.classList.add('active');
        return;
    }

    if (currentMode === 'generate') {
        // Generate mode validation
        const topic = topicInput.value.trim();
        const keywords = keywordsInput.value.trim();
        const wordCount = parseInt(wordCountInput.value);

        if (!topic) {
            errorDiv.innerHTML = '‚ùå <strong>ERROR:</strong> Please describe what content you want to generate';
            errorDiv.classList.add('active');
            return;
        }

        if (wordCount < 100 || wordCount > 5000) {
            errorDiv.innerHTML = '‚ùå <strong>ERROR:</strong> Word count must be between 100 and 5000';
            errorDiv.classList.add('active');
            return;
        }

        generateBtn.disabled = true;
        loading.classList.add('active');
        output.textContent = '';
        copyBtn.style.display = 'none';

        try {
            loadingText.textContent = `üöÄ GENERATING ULTRA-HUMAN CONTENT`;
            loadingSubtext.textContent = `Creating authentic ${['natural', 'enhanced', 'ultra-human'][intensity-1]} content with zero AI patterns...`;
            
            const generatedText = await generateContent(topic, keywords, apiKey, mode, intensity, wordCount);

            output.textContent = generatedText;
            copyBtn.style.display = 'block';
            updateStats();

            const actualWords = countWords(generatedText);
            successDiv.innerHTML = `‚úÖ <strong>SUCCESS!</strong> Generated ${actualWords} words of ${['NATURAL', 'ENHANCED', 'ULTRA-HUMAN'][intensity-1]} authentic human content. 100% undetectable.`;
            successDiv.classList.add('active');

            humanScore.innerHTML = `üéØ <strong>HUMAN AUTHENTICITY: 100%</strong> | AI Detection: 0% | Natural Human Writing ‚úì`;
            humanScore.classList.add('active');

        } catch (error) {
            errorDiv.innerHTML = `‚ùå <strong>ERROR:</strong> ${error.message}`;
            errorDiv.classList.add('active');
            console.error('Error:', error);
        } finally {
            loading.classList.remove('active');
            generateBtn.disabled = false;
        }

    } else {
        // Humanize mode validation
        const text = existingTextInput.value.trim();

        if (!text) {
            errorDiv.innerHTML = '‚ùå <strong>ERROR:</strong> Please paste text to humanize';
            errorDiv.classList.add('active');
            return;
        }

        generateBtn.disabled = true;
        loading.classList.add('active');
        output.textContent = '';
        copyBtn.style.display = 'none';

        try {
            loadingText.textContent = `‚ú® HUMANIZING YOUR TEXT`;
            loadingSubtext.textContent = `Transforming to ${['natural', 'enhanced', 'ultra-human'][intensity-1]} human writing while preserving all citations and data...`;
            
            const humanizedText = await humanizeText(text, apiKey, mode, intensity);

            output.textContent = humanizedText;
            copyBtn.style.display = 'block';
            updateStats();

            const actualWords = countWords(humanizedText);
            successDiv.innerHTML = `‚úÖ <strong>SUCCESS!</strong> Humanized ${actualWords} words with ${['NATURAL', 'ENHANCED', 'ULTRA-HUMAN'][intensity-1]} authenticity. All citations, names, and dates preserved exactly.`;
            successDiv.classList.add('active');

            humanScore.innerHTML = `üéØ <strong>HUMANIZATION: COMPLETE</strong> | Citations Preserved: ‚úì | AI Detection: 0% ‚úì`;
            humanScore.classList.add('active');

        } catch (error) {
            errorDiv.innerHTML = `‚ùå <strong>ERROR:</strong> ${error.message}`;
            errorDiv.classList.add('active');
            console.error('Error:', error);
        } finally {
            loading.classList.remove('active');
            generateBtn.disabled = false;
        }
    }
});

    // Clear button click handler
  // Clear button click handler
clearBtn.addEventListener('click', () => {
    topicInput.value = '';
    keywordsInput.value = '';
    existingTextInput.value = '';
    output.textContent = '';
    copyBtn.style.display = 'none';
    errorDiv.classList.remove('active');
    successDiv.classList.remove('active');
    humanScore.classList.remove('active');
    updateStats();
});

    // Copy button click handler
    copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(output.textContent).then(() => {
            const original = copyBtn.textContent;
            copyBtn.textContent = '‚úì COPIED!';
            setTimeout(() => copyBtn.textContent = original, 2000);
        });
    });
       // API call to humanize existing text
async function humanizeText(text, apiKey, mode, intensity) {
    const { prompt, config } = getHumanizationPrompt(text, mode, intensity);

    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            contents: [{ parts: [{ text: prompt }] }],
            generationConfig: {
                temperature: config.temp,
                topK: config.topK,
                topP: config.topP,
                maxOutputTokens: 8192,
                candidateCount: 1
            },
            safetySettings: [
                { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
            ]
        })
    });

    if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error?.message || 'API request failed');
    }

    const data = await response.json();
    
    if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {
        throw new Error('No response generated. Please try again.');
    }

    return data.candidates[0].content.parts[0].text;
}

    // Initialize stats on load
    updateStats();
</script>
</body>
</html>
