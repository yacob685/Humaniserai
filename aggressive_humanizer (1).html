<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra-Human Content Generator Pro</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    color: #2c3e50;
}

header {
    background-color: white;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

nav {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

nav a.nav-brand {
    font-size: 1.5rem;
    font-weight: 700;
    color: #4f46e5;
    text-decoration: none;
}

.nav-links {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.nav-links a {
    color: #6b7280;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s;
}

.nav-links a:hover {
    color: #4f46e5;
}

.container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    max-width: 1400px;
    width: 90%;
    margin: 2rem auto;
    padding: 40px;
    border: 1px solid #e0e0e0;
}

h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 8px;
    font-size: 2.2em;
    font-weight: 700;
}

.subtitle {
    text-align: center;
    color: #6c757d;
    margin-bottom: 12px;
    font-size: 1.1em;
    font-weight: 400;
}

.power-badge {
    text-align: center;
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
    padding: 12px 28px;
    border-radius: 25px;
    display: block;
    width: fit-content;
    margin: 0 auto 30px auto;
    font-weight: 600;
    font-size: 0.95em;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
}

.api-section {
    margin-bottom: 25px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 1px solid #dee2e6;
}

.api-section label {
    color: #495057 !important;
}

.input-group {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 8px;
    color: #495057;
    font-weight: 600;
    font-size: 0.95em;
}

input[type="text"],
textarea,
select,
input[type="number"] {
    width: 100%;
    padding: 14px;
    border: 2px solid #dee2e6;
    border-radius: 8px;
    font-size: 15px;
    transition: all 0.3s;
    font-family: inherit;
    background: white;
}

select {
    cursor: pointer;
}

input[type="text"]:focus,
textarea:focus,
select:focus,
input[type="number"]:focus {
    outline: none;
    border-color: #e74c3c;
    box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
}

textarea {
    resize: vertical;
    min-height: 120px;
    line-height: 1.6;
}

.controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 18px;
    margin-bottom: 25px;
}

.button-container {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}

button {
    flex: 1;
    padding: 16px 32px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
}

.generate-btn {
    background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    color: white;
    box-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
}

.generate-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(231, 76, 60, 0.4);
}

.generate-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.clear-btn {
    background: linear-gradient(135deg, #6c757d, #5a6268);
    color: white;
}

.clear-btn:hover {
    background: linear-gradient(135deg, #5a6268, #495057);
    transform: translateY(-2px);
}

.output-section {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 12px;
    min-height: 400px;
    position: relative;
    border: 2px solid #dee2e6;
}

.output-content {
    white-space: pre-wrap;
    line-height: 1.8;
    color: #2c3e50;
    font-size: 15px;
}

.loading {
    display: none;
    text-align: center;
    padding: 60px 20px;
}

.loading.active {
    display: block;
}

.spinner {
    border: 5px solid #e9ecef;
    border-top: 5px solid #e74c3c;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    animation: spin 0.8s linear infinite;
    margin: 0 auto 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-text {
    color: #e74c3c;
    font-weight: 600;
    font-size: 1.1em;
    margin-bottom: 8px;
}

.loading-subtext {
    color: #6c757d;
    font-size: 0.95em;
    font-weight: 400;
}

.copy-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    padding: 10px 20px;
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s;
}

.copy-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 2px 12px rgba(40, 167, 69, 0.4);
}

.error {
    background: linear-gradient(135deg, #dc3545, #c82333);
    color: white;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: none;
    border: 1px solid #bd2130;
    font-weight: 500;
}

.error.active {
    display: block;
}

.success {
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: none;
    border: 1px solid #1e7e34;
    font-weight: 500;
}

.success.active {
    display: block;
}

.stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 15px;
    margin-top: 30px;
    padding-top: 30px;
    border-top: 2px solid #dee2e6;
}

.stat-item {
    text-align: center;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 10px;
    border: 1px solid #dee2e6;
    transition: all 0.3s;
}

.stat-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: #e74c3c;
}

.stat-value {
    font-size: 28px;
    font-weight: 700;
    color: #e74c3c;
}

.stat-label {
    color: #6c757d;
    font-size: 0.85em;
    margin-top: 8px;
    font-weight: 500;
}

.human-score {
    text-align: center;
    margin-top: 20px;
    padding: 18px;
    background: linear-gradient(135deg, #28a745, #218838);
    color: white;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1.05em;
    display: none;
    box-shadow: 0 2px 12px rgba(40, 167, 69, 0.3);
    border: 1px solid #1e7e34;
}

.human-score.active {
    display: block;
}

.intensity-slider {
    margin-bottom: 25px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 1px solid #dee2e6;
}

.slider-container {
    margin-top: 12px;
}

input[type="range"] {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: linear-gradient(to right, #e74c3c, #c0392b);
    outline: none;
    -webkit-appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #e74c3c;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.4);
}

input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #e74c3c;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.4);
    border: none;
}

.intensity-label {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
    font-weight: 500;
    color: #495057;
    font-size: 0.9em;
}

.feature-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 25px;
    justify-content: center;
}

.badge {
    background: #e9ecef;
    color: #495057;
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.8em;
    border: 1px solid #dee2e6;
}

@media (max-width: 768px) {
    .nav-links {
        display: none;
    }
    
    .container {
        width: 95%;
        padding: 20px;
    }
    
    h1 {
        font-size: 1.8em;
    }
}

        .history-item {
    background: white;
    padding: 15px;
    margin-bottom: 12px;
    border-radius: 8px;
    border: 1px solid #dee2e6;
    cursor: pointer;
    transition: all 0.3s;
}

.history-item:hover {
    border-color: #e74c3c;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.2);
    transform: translateX(5px);
}

.history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.history-title {
    font-weight: 600;
    color: #2c3e50;
    font-size: 0.95em;
}

.history-date {
    font-size: 0.8em;
    color: #6c757d;
}

.history-preview {
    color: #495057;
    font-size: 0.85em;
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.history-meta {
    display: flex;
    gap: 15px;
    margin-top: 8px;
    font-size: 0.75em;
    color: #6c757d;
}

.history-badge {
    background: #e9ecef;
    padding: 3px 8px;
    border-radius: 4px;
    font-weight: 600;
}

.delete-history-btn {
    padding: 4px 10px;
    background: #dc3545;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.75em;
    font-weight: 600;
    margin-left: 10px;
}

.delete-history-btn:hover {
    background: #c82333;
}
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="nav-brand">Web Service Hub</a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#tools">All Tools</a>
            </div>
        </nav>
    </header>
    
    <div class="container">
        <h1>ğŸš€ ULTRA-HUMAN CONTENT GENERATOR PRO</h1>
        <p class="subtitle">Generate Authentically Human Content from Scratch - Zero AI Detection</p>
        <div class="power-badge">ğŸ”¥ DIRECT HUMAN GENERATION | 100% UNDETECTABLE</div>

        <div class="mode-toggle" style="text-align: center; margin-bottom: 25px;">
    <label style="font-weight: 600; color: #495057; margin-bottom: 10px; display: block;">ğŸ¯ OPERATION MODE:</label>
    <div style="display: inline-flex; background: #e9ecef; border-radius: 10px; padding: 4px;">
        <button type="button" id="generateMode" class="mode-btn active" style="padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s; background: linear-gradient(135deg, #e74c3c, #c0392b); color: white;">
            ğŸš€ Generate New Content
        </button>
        <button type="button" id="humanizeMode" class="mode-btn" style="padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s; background: transparent; color: #495057;">
            âœ¨ Humanize Existing Text
        </button>
    </div>
</div>
        <div class="feature-badges">
            <span class="badge">ğŸ¯ NATIVE HUMAN GENERATION</span>
            <span class="badge">âš¡ ZERO AI PATTERNS</span>
            <span class="badge">ğŸ“° ALL CONTENT TYPES</span>
            <span class="badge">ğŸ“ ACADEMIC GRADE</span>
            <span class="badge">ğŸ’¼ PROFESSIONAL READY</span>
            <span class="badge">ğŸš€ MAXIMUM AUTHENTICITY</span>
        </div>

        <div class="api-section" style="display: none;">
            <div class="input-group">
                <label for="apiKey"></label>
                <div style="display: none;">
                    <input type="text" id="apiKey" value="AIzaSyBIAAAwdRvVuUMyq2RfLYo2HapOe_25j1c">
                </div>
            </div>
        </div>

        <div class="intensity-slider">
            <label>ğŸ”¥ HUMAN AUTHENTICITY LEVEL:</label>
            <div class="slider-container">
                <input type="range" id="intensity" min="1" max="3" value="3" step="1">
                <div class="intensity-label">
                    <span>Natural</span>
                    <span id="intensityValue">ULTRA-HUMAN</span>
                    <span>Maximum</span>
                </div>
            </div>
        </div>

        <div class="controls-grid">
            <div class="input-group">
                <label for="category">ğŸ¯ Content Category:</label>
                <select id="category">
                    <option value="journalism">ğŸ“° Journalism & News</option>
                    <option value="academic">ğŸ“ Academic & Research</option>
                    <option value="business">ğŸ’¼ Business & Professional</option>
                    <option value="creative">âœ¨ Creative & Marketing</option>
                    <option value="technical">âš™ï¸ Technical & Documentation</option>
                </select>
            </div>
            <div class="input-group">
                <label for="mode">ğŸ“š Specific Type:</label>
                <select id="mode">
                    <!-- Options will be populated based on category -->
                </select>
            </div>
            <div class="input-group">
                <label for="wordCount">ğŸ“Š Target Word Count:</label>
                <input type="number" id="wordCount" min="100" max="5000" value="800" step="50">
            </div>
        </div>

        <div class="error" id="error"></div>
        <div class="success" id="success"></div>

      <!-- Generate Mode Inputs -->
<div id="generateInputs">
    <div class="input-group">
        <label for="topic">ğŸ“ Content Topic/Brief:</label>
        <textarea id="topic" placeholder="Describe what you want the content to be about. Be specific about key points, angle, or requirements..."></textarea>
    </div>

    <div class="input-group">
        <label for="keywords">ğŸ”‘ Key Points/Keywords (Optional):</label>
        <input type="text" id="keywords" placeholder="Enter key points or keywords separated by commas (e.g., innovation, technology, sustainability)">
    </div>
</div>

<!-- Humanize Mode Inputs -->
<div id="humanizeInputs" style="display: none;">
    <div class="input-group">
        <label for="existingText">ğŸ“„ Paste Your Text to Humanize:</label>
        <textarea id="existingText" placeholder="Paste your text here. All citations, researcher names, dates, and specific data will be preserved exactly as written..." style="min-height: 300px;"></textarea>
    </div>
    
    <div class="input-group" style="padding: 15px; background: #fff3cd; border-radius: 8px; border: 1px solid #ffc107;">
        <label style="color: #856404; display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 1.2em;">âš ï¸</span>
            <span>PRESERVATION GUARANTEE:</span>
        </label>
        <ul style="margin: 10px 0 0 25px; color: #856404; line-height: 1.8;">
            <li>All researcher names preserved exactly (e.g., "Smith (2023)", "Johnson et al.")</li>
            <li>All dates and years maintained precisely</li>
            <li>All citations and references kept intact</li>
            <li>All statistics, percentages, and numbers unchanged</li>
            <li>All specific research findings preserved verbatim</li>
            <li>Technical terms and discipline-specific vocabulary protected</li>
        </ul>
    </div>
</div>

        <div class="button-container">
            <button class="generate-btn" id="generateBtn">ğŸš€ GENERATE HUMAN CONTENT</button>
            <button class="clear-btn" id="clearBtn">ğŸ—‘ï¸ CLEAR ALL</button>
        </div>

        <div class="output-section">
            <button class="copy-btn" id="copyBtn" style="display: none;">ğŸ“‹ COPY TEXT</button>
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p class="loading-text" id="loadingText">ğŸš€ GENERATING AUTHENTIC HUMAN CONTENT</p>
                <p class="loading-subtext" id="loadingSubtext">Creating naturally human text with zero AI patterns...</p>
            </div>
            <div class="output-content" id="output"></div>
        </div>

        <div class="human-score" id="humanScore"></div>

<!-- Chat History Section -->
        <div class="chat-history-section" style="margin-top: 30px; padding: 25px; background: #f8f9fa; border-radius: 12px; border: 2px solid #dee2e6;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin-right:  30px; color: #2c3e50; font-size: 1.3em;">ğŸ“œ Chat History</h3>
                <button id="clearHistoryBtn" style="padding: 8px 16px; background: linear-gradient(135deg, #dc3545, #c82333); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 0.9em;">ğŸ—‘ï¸ Clear History</button>
            </div>
            <div id="chatHistoryList" style="max-height: 400px; overflow-y: auto;">
                <!-- History items will be inserted here -->
            </div>
            <p id="noHistory" style="text-align: center; color: #6c757d; padding: 40px; display: none;">No chat history yet. Generate or humanize content to start!</p>
        </div>

        <div class="stats">         
            <div class="stat-item">
                <div class="stat-value" id="outputWords">0</div>
                <div class="stat-label">Words Generated</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="outputChars">0</div>
                <div class="stat-label">Characters</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="sentences">0</div>
                <div class="stat-label">Sentences</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="paragraphs">0</div>
                <div class="stat-label">Paragraphs</div>
            </div>
        </div>
    </div>

   <script>
    // Content type categories
    const contentTypes = {
        journalism: {
            'news': 'ğŸ“° News Article',
            'investigative': 'ğŸ” Investigative Journalism',
            'feature': 'ğŸ“ Feature Article',
            'editorial': 'ğŸ’­ Editorial/Opinion',
            'breaking': 'âš¡ Breaking News',
            'analysis': 'ğŸ“Š News Analysis',
            'interview': 'ğŸ¤ Interview Article',
            'press-release': 'ğŸ“¢ Press Release'
        },
       academic: {
    'essay': 'ğŸ“– Academic Essay',
    'research': 'ğŸ”¬ Research Report',
    'analytical': 'ğŸ“ˆ Analytical Essay',
    'argumentative': 'âš–ï¸ Argumentative Essay',
    'comparative': 'ğŸ”„ Comparative Essay',
    'literature': 'ğŸ“š Literature Review',
    'thesis': 'ğŸ“ Thesis/Dissertation',
    'case-study': 'ğŸ“‹ Case Study',
    'med-reflective': 'ğŸ“ MEd Reflective Essay',
    'med-research': 'ğŸ“š MEd Research Paper',
    'med-literature-review': 'ğŸ“– MEd Literature Review',
    'med-action-research': 'ğŸ”¬ MEd Action Research',
    'med-critical-analysis': 'ğŸ’­ MEd Critical Analysis',
    'med-professional-inquiry': 'ğŸ¯ MEd Professional Inquiry Project'
},
        business: {
            'email-formal': 'âœ‰ï¸ Formal Business Email',
            'email-casual': 'ğŸ“§ Casual Professional Email',
            'proposal': 'ğŸ“„ Business Proposal',
            'report': 'ğŸ“Š Business Report',
            'memo': 'ğŸ“ Memo/Internal Communication',
            'cover-letter': 'ğŸ’¼ Cover Letter',
            'linkedin': 'ğŸ”— LinkedIn Post/Article',
            'presentation': 'ğŸ¤ Presentation Script',
            'executive-summary': 'ğŸ“‘ Executive Summary'
        },
        creative: {
            'blog': 'ğŸ“ Blog Post',
            'social-media': 'ğŸ“± Social Media Content',
            'ad-copy': 'ğŸ¯ Advertisement Copy',
            'product-description': 'ğŸ›ï¸ Product Description',
            'newsletter': 'ğŸ“¬ Newsletter',
            'web-content': 'ğŸŒ Website Content',
            'script': 'ğŸ¬ Video/Podcast Script',
            'story': 'ğŸ“– Creative Story/Narrative'
        },
        technical: {
            'documentation': 'ğŸ“š Technical Documentation',
            'user-guide': 'ğŸ“– User Guide/Manual',
            'tutorial': 'ğŸ“ Tutorial/How-to',
            'whitepaper': 'ğŸ“„ White Paper',
            'api-docs': 'âš™ï¸ API Documentation',
            'technical-report': 'ğŸ”§ Technical Report',
            'sop': 'ğŸ“‹ Standard Operating Procedure',
            'specification': 'ğŸ“ Technical Specification'
        }
    };

    // DOM Elements
    const apiKeyInput = document.getElementById('apiKey');
    const topicInput = document.getElementById('topic');
    const keywordsInput = document.getElementById('keywords');
    const categorySelect = document.getElementById('category');
    const modeSelect = document.getElementById('mode');
    const wordCountInput = document.getElementById('wordCount');
    const intensitySlider = document.getElementById('intensity');
    const intensityValue = document.getElementById('intensityValue');
    const generateBtn = document.getElementById('generateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const output = document.getElementById('output');
    const loading = document.getElementById('loading');
    const loadingText = document.getElementById('loadingText');
    const loadingSubtext = document.getElementById('loadingSubtext');
    const errorDiv = document.getElementById('error');
    const successDiv = document.getElementById('success');
    const copyBtn = document.getElementById('copyBtn');
    const humanScore = document.getElementById('humanScore');
       const generateModeBtn = document.getElementById('generateMode');
const humanizeModeBtn = document.getElementById('humanizeMode');
const generateInputs = document.getElementById('generateInputs');
const humanizeInputs = document.getElementById('humanizeInputs');
const existingTextInput = document.getElementById('existingText');
let currentMode = 'generate'; // 'generate' or 'humanize'
// Chat History Management
let chatHistory = [];

// Load chat history from localStorage
function loadChatHistory() {
    const saved = localStorage.getItem('ultraHumanChatHistory');
    if (saved) {
        chatHistory = JSON.parse(saved);
        renderChatHistory();
    }
}

// Save chat history to localStorage
function saveChatHistory() {
    localStorage.setItem('ultraHumanChatHistory', JSON.stringify(chatHistory));
}

// Add new chat to history
function addToHistory(data) {
    const historyItem = {
        id: Date.now(),
        timestamp: new Date().toISOString(),
        mode: data.mode,
        contentType: data.contentType,
        input: data.input,
        output: data.output,
        wordCount: data.wordCount,
        intensity: data.intensity
    };
    
    chatHistory.unshift(historyItem); // Add to beginning
    
    // Keep only last 50 items
    if (chatHistory.length > 50) {
        chatHistory = chatHistory.slice(0, 50);
    }
    
    saveChatHistory();
    renderChatHistory();
}

// Render chat history list
function renderChatHistory() {
    const historyList = document.getElementById('chatHistoryList');
    const noHistory = document.getElementById('noHistory');
    
    if (chatHistory.length === 0) {
        historyList.innerHTML = '';
        noHistory.style.display = 'block';
        return;
    }
    
    noHistory.style.display = 'none';
    
    historyList.innerHTML = chatHistory.map(item => {
        const date = new Date(item.timestamp);
        const formattedDate = date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        const preview = item.output.substring(0, 150) + (item.output.length > 150 ? '...' : '');
        const modeLabel = item.mode === 'generate' ? 'ğŸš€ Generated' : 'âœ¨ Humanized';
        
        return `
            <div class="history-item" data-id="${item.id}">
                <div class="history-header">
                    <span class="history-title">${modeLabel} - ${item.contentType}</span>
                    <div>
                        <span class="history-date">${formattedDate}</span>
                        <button class="delete-history-btn" onclick="deleteHistoryItem(${item.id}, event)">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="history-preview">${preview}</div>
                <div class="history-meta">
                    <span class="history-badge">${item.wordCount} words</span>
                    <span class="history-badge">${['Natural', 'Enhanced', 'Ultra-Human'][item.intensity - 1]}</span>
                </div>
            </div>
        `;
    }).join('');
    
    // Add click listeners to history items
    document.querySelectorAll('.history-item').forEach(item => {
        item.addEventListener('click', (e) => {
            if (!e.target.classList.contains('delete-history-btn')) {
                loadHistoryItem(parseInt(item.dataset.id));
            }
        });
    });
}

// Load a history item into the editor
function loadHistoryItem(id) {
    const item = chatHistory.find(h => h.id === id);
    if (!item) return;
    
    // Set mode
    if (item.mode === 'generate') {
        generateModeBtn.click();
        topicInput.value = item.input;
    } else {
        humanizeModeBtn.click();
        existingTextInput.value = item.input;
    }
    
    // Set output
    output.textContent = item.output;
    copyBtn.style.display = 'block';
    updateStats();
    
    // Set intensity
    intensitySlider.value = item.intensity;
    intensitySlider.dispatchEvent(new Event('input'));
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
    
    // Show success message
    successDiv.innerHTML = `âœ… <strong>Loaded from history!</strong> ${item.mode === 'generate' ? 'Generated' : 'Humanized'} content restored.`;
    successDiv.classList.add('active');
    
    setTimeout(() => {
        successDiv.classList.remove('active');
    }, 3000);
}

// Delete a history item
function deleteHistoryItem(id, event) {
    event.stopPropagation();
    
    if (confirm('Delete this chat from history?')) {
        chatHistory = chatHistory.filter(h => h.id !== id);
        saveChatHistory();
        renderChatHistory();
    }
}

// Clear all history
document.getElementById('clearHistoryBtn').addEventListener('click', () => {
    if (confirm('Are you sure you want to clear all chat history? This cannot be undone.')) {
        chatHistory = [];
        localStorage.removeItem('ultraHumanChatHistory');
        renderChatHistory();
        
        successDiv.innerHTML = 'âœ… <strong>Chat history cleared!</strong>';
        successDiv.classList.add('active');
        
        setTimeout(() => {
            successDiv.classList.remove('active');
        }, 2000);
    }
});

// Initialize chat history on page load
loadChatHistory();
    // Populate mode dropdown based on category
    function updateModeOptions() {
        const category = categorySelect.value;
        const modes = contentTypes[category];
        
        modeSelect.innerHTML = '';
        for (const [value, label] of Object.entries(modes)) {
            const option = document.createElement('option');
            option.value = value;
            option.textContent = label;
            modeSelect.appendChild(option);
            
        }
    }

    // Initialize dropdowns
    updateModeOptions();
       
    categorySelect.addEventListener('change', updateModeOptions);
// Mode switching
generateModeBtn.addEventListener('click', () => {
    currentMode = 'generate';
    generateModeBtn.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
    generateModeBtn.style.color = 'white';
    humanizeModeBtn.style.background = 'transparent';
    humanizeModeBtn.style.color = '#495057';
    generateInputs.style.display = 'block';
    humanizeInputs.style.display = 'none';
    generateBtn.innerHTML = 'ğŸš€ GENERATE HUMAN CONTENT';
});

humanizeModeBtn.addEventListener('click', () => {
    currentMode = 'humanize';
    humanizeModeBtn.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
    humanizeModeBtn.style.color = 'white';
    generateModeBtn.style.background = 'transparent';
    generateModeBtn.style.color = '#495057';
    generateInputs.style.display = 'none';
    humanizeInputs.style.display = 'block';
    generateBtn.innerHTML = 'âœ¨ HUMANIZE TEXT NOW';
});
    // Intensity slider
    intensitySlider.addEventListener('input', (e) => {
        const val = e.target.value;
        const labels = ['NATURAL', 'ENHANCED', 'ULTRA-HUMAN'];
        intensityValue.textContent = labels[val - 1];
    });

    // Utility functions
    function countWords(text) {
        return text.trim().split(/\s+/).filter(word => word.length > 0).length;
    }

    function countSentences(text) {
        return text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
    }

    function countParagraphs(text) {
        return text.split(/\n\n+/).filter(p => p.trim().length > 0).length;
    }

    function updateStats() {
        const outputVal = output.textContent.trim();
        
        document.getElementById('outputWords').textContent = countWords(outputVal);
        document.getElementById('outputChars').textContent = outputVal.length;
        document.getElementById('sentences').textContent = countSentences(outputVal);
        document.getElementById('paragraphs').textContent = countParagraphs(outputVal);
    }

    // Get generation prompt
    function getGenerationPrompt(topic, keywords, mode, intensity, wordCount) {
      const intensityConfig = {
        '1': { temp: 1.35, topK: 80, topP: 0.94, name: 'NATURAL' },
        '2': { temp: 1.65, topK: 110, topP: 0.975, name: 'ENHANCED' },
        '3': { temp: 1.92, topK: 160, topP: 0.998, name: 'ULTRA-HUMAN' }
    };

        const config = intensityConfig[intensity];

        const keywordsText = keywords ? `\n\nKEY POINTS TO INCLUDE: ${keywords}` : '';

        const modeDescriptions = {
            news: 'professional news article with journalistic objectivity and inverted pyramid structure',
            investigative: 'deep investigative journalism with thorough research and compelling narrative',
            feature: 'engaging feature article with human interest and storytelling elements',
            editorial: 'opinion piece with strong viewpoint and persuasive argumentation',
            breaking: 'urgent breaking news with immediate impact and critical information',
            analysis: 'analytical news piece with expert interpretation and context',
            interview: 'interview-based article with authentic dialogue and narrative',
            'press-release': 'professional press release with newsworthy information',
            essay: 'academic essay with scholarly depth and critical analysis',
            research: 'research report with methodology and evidence-based conclusions',
            analytical: 'analytical essay with systematic examination and reasoning',
            argumentative: 'argumentative essay with thesis, evidence, and counterarguments',
            comparative: 'comparative essay with balanced analysis of subjects',
            literature: 'literature review synthesizing scholarly sources',
            thesis: 'thesis-level work with original research and contribution',
            'case-study': 'detailed case study with practical application',

            'med-reflective': 'Master of Education reflective essay integrating personal teaching experience with educational theory, showing critical reflection on practice, evidence of professional growth, and connection between theory and classroom application',
'med-research': 'Master of Education research paper with scholarly rigor, educational research methodology, analysis of pedagogical practices, and implications for teaching and learning',
'med-literature-review': 'Master of Education literature review synthesizing educational research, analyzing pedagogical theories, identifying gaps in education literature, and connecting theory to practice',
'med-action-research': 'Master of Education action research project documenting classroom-based inquiry, reflective practice cycles, data collection from educational settings, and practical improvements to teaching',
'med-critical-analysis': 'Master of Education critical analysis examining educational policies, pedagogical approaches, or learning theories with deep reflection on implications for practice',
'med-professional-inquiry': 'Master of Education professional inquiry project investigating educational questions through practitioner research, combining reflection, theory, and evidence from practice',
            
            'email-formal': 'formal business email with professional courtesy',
            'email-casual': 'professional yet friendly business email',
            proposal: 'compelling business proposal with value proposition',
            report: 'comprehensive business report with insights',
            memo: 'clear internal memo with direct communication',
            'cover-letter': 'engaging cover letter showcasing qualifications',
            linkedin: 'LinkedIn content optimized for professional networking',
            presentation: 'presentation script with engaging delivery',
            'executive-summary': 'concise executive summary with key insights',
            blog: 'engaging blog post with conversational tone',
            'social-media': 'attention-grabbing social media content',
            'ad-copy': 'persuasive advertisement with emotional appeal',
            'product-description': 'compelling product description highlighting benefits',
            newsletter: 'informative newsletter with community connection',
            'web-content': 'SEO-optimized web content with user focus',
            script: 'natural script with engaging dialogue',
            story: 'creative narrative with compelling plot',
            documentation: 'clear technical documentation',
            'user-guide': 'accessible user guide with step-by-step instructions',
            tutorial: 'educational tutorial with practical examples',
            whitepaper: 'authoritative white paper with thought leadership',
            'api-docs': 'precise API documentation with examples',
            'technical-report': 'detailed technical report with specifications',
            sop: 'systematic standard operating procedure',
            'specification': 'precise technical specification'
        };

const prompt = `You are an ULTRA-HUMAN content writer who creates AUTHENTICALLY HUMAN text that is 100% UNDETECTABLE as AI-generated. Your writing is indistinguishable from content written by experienced human professionals.

ğŸ¯ MISSION: Generate approximately ${wordCount} words of ${modeDescriptions[mode]} on the following topic.

âš ï¸ FORMAT PRESERVATION RULE:
If the user's topic/brief contains bullet points, numbered lists, or specific formatting, you MUST return the content in THE EXACT SAME FORMAT. Bullet points stay as bullet points, numbered lists stay numbered, paragraphs stay as paragraphs.

HUMAN AUTHENTICITY LEVEL: ${config.name} ğŸ”¥

âš ï¸ CRITICAL OPENING PARAGRAPH RULES:
The FIRST paragraph is ALWAYS flagged by AI detectors. You MUST make it 100% human by:
âœ“ Start with a SPECIFIC detail, fact, or scene - NOT a broad statement
âœ“ Use VARIED sentence lengths immediately (mix 8-word and 25-word sentences)
âœ“ Include a question, fragment, or unexpected structure in first 3 sentences
âœ“ AVOID opening with: "In today's world", "In recent years", "Throughout history", "It is clear that"
âœ“ AVOID generic statements like "X is important" or "X has become increasingly relevant"
âœ“ Start mid-action, mid-thought, or with a concrete example
âœ“ Use natural, conversational transitions between sentences
âœ“ NO perfect parallel structure in opening
âœ“ Make it feel like you're jumping into an ongoing conversation

EXAMPLES OF HUMAN OPENINGS:
âœ“ "The lab results came back Thursday. Three samples showed contamination."
âœ“ "Nobody expected the policy to pass. It did anyway, and now everything's changed."
âœ“ "Consider this: every transaction you make leaves a digital footprint."
âœ“ "March 2024 marked a turning point. Investors pulled $2.3 billion from the sector."

NEVER START WITH:
âœ— "In today's rapidly evolving landscape..."
âœ— "The importance of X cannot be overstated..."
âœ— "Throughout history, humanity has sought to..."
âœ— "As we navigate the complexities of..."
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš¡ ULTRA-HUMAN GENERATION PROTOCOL (12 LAYERS):

ğŸ”¥ LAYER 1: NATURAL SENTENCE ARCHITECTURE
âœ“ EXTREME variation in sentence length (6-60 words)
âœ“ Mix short punchy sentences with flowing complex ones
âœ“ Create UNPREDICTABLE rhythms - never follow patterns
âœ“ Use fragments strategically for emphasis. Like this.
âœ“ Vary sentence beginnings constantly - no repetition
âœ“ Mix declarative, interrogative, occasional exclamatory
âœ“ Strategic use of semicolons, colons, em-dashes
âœ“ Natural momentum that feels organic

ğŸ”¥ LAYER 2: AUTHENTIC VOCABULARY CHOICES
âœ“ ZERO AI clichÃ©s - NEVER use:
  âœ— "delve/delving" "robust" "leverage" "paradigm" "utilize"
  âœ— "landscape" "facilitate" "crucial" (overused)
  âœ— "it is worth noting" "in today's world" "shed light on"
âœ“ Use precise, specific language naturally
âœ“ Mix formal and conversational appropriately
âœ“ Strong active verbs: demonstrates, reveals, shows, indicates
âœ“ Diverse synonyms - never repeat words unnecessarily
âœ“ Natural professional vocabulary

ğŸ”¥ LAYER 3: ORGANIC FLOW & TRANSITIONS
âœ“ ELIMINATE mechanical transitions:
  âœ— "Furthermore" "Moreover" "Additionally" "However"
  âœ— "First/Second/Third" "In conclusion" "To summarize"
âœ“ Use NATURAL connections:
  âœ“ "The evidence suggests..." "Research shows..."
  âœ“ "This development..." "These findings..."
  âœ“ Embed transitions within sentences naturally
âœ“ Let ideas flow through logical progression
âœ“ Connect through pronouns: "This approach..." "Such efforts..."

ğŸ”¥ LAYER 4: GENUINE PROFESSIONAL VOICE
âœ“ Write like a REAL human professional/expert
âœ“ Show natural expertise without pretension
âœ“ Include professional judgment and nuance
âœ“ Balance confidence with appropriate hedging
âœ“ Mix active (75-80%) with strategic passive voice
âœ“ Natural attribution when discussing information
âœ“ Show thinking process subtly
âœ“ Authentic perspective and insight

ğŸ”¥ LAYER 5: DYNAMIC PARAGRAPH STRUCTURE
âœ“ WILDLY vary paragraph length (2-8 sentences)
âœ“ Short 1-2 sentence paragraphs for impact
âœ“ Longer 6-8 sentence paragraphs for depth
âœ“ Break expected patterns completely
âœ“ Vary development approaches
âœ“ Topic sentences in different positions
âœ“ Natural paragraph connections

ğŸ”¥ LAYER 6: ZERO AI PATTERNS
âœ— DESTROY all AI signatures:
  â€¢ No perfect parallel structure
  â€¢ No overly balanced arguments
  â€¢ No mathematical precision in organization
  â€¢ No excessive enumeration
  â€¢ No formulaic intro/conclusion
  â€¢ No predictable topic sentences
  â€¢ No mechanical organization
âœ“ Include natural "imperfections"
âœ“ Vary punctuation naturally
âœ“ Occasional complexity where appropriate
âœ“ Break "rules" when it enhances meaning

ğŸ”¥ LAYER 7: HUMAN AUTHENTICITY MARKERS
âœ“ Specific, concrete details
âœ“ Natural examples integrated seamlessly
âœ“ Real-world context and awareness
âœ“ Intellectual progression that shows thinking
âœ“ Nuanced perspectives - avoid binary thinking
âœ“ Professional insights demonstrating expertise
âœ“ Contextual depth without over-explaining
âœ“ Authentic human judgment

ğŸ”¥ LAYER 8: NATURAL RHYTHM & CADENCE
âœ“ Create ORGANIC reading flow
âœ“ Dramatically vary sentence beginnings:
  â€¢ Subject starts: "Researchers discovered..." "Data indicates..."
  â€¢ Prepositional: "In recent developments..." "According to analysis..."
  â€¢ Subordinate clauses: "While evidence suggests..." "Although views differ..."
  â€¢ Participles: "Examining the data..." "Drawing from sources..."
  â€¢ Adverbs: "Recently," "Notably," "Significantly,"
  â€¢ Direct objects: "This approach..." "Such strategies..."
âœ“ Build and release tension through pacing
âœ“ Mix quick sequences with contemplative sections
âœ“ Create natural momentum

ğŸ”¥ LAYER 9: CONTENT-TYPE OPTIMIZATION
FOR JOURNALISM: Lead with impact, balance perspectives, use clear attribution, maintain objectivity with engagement, include relevant context naturally
FOR ACADEMIC: Strong thesis, sophisticated vocabulary, evidence-based reasoning, critical analysis, scholarly tone with depth, proper hedging
FOR MASTER OF EDUCATION (MEd): Integrate personal teaching experience with theory, use first-person reflection where appropriate, connect educational research to classroom practice, demonstrate critical reflection on pedagogy, reference educational theorists naturally (Vygotsky, Dewey, Freire, etc.), show professional growth and development, balance academic rigor with practitioner voice, include specific classroom examples, demonstrate reflective practice
FOR BUSINESS: Clear purpose, professional tone, concise communication, results-oriented, appropriate formality, strategic structure
FOR CREATIVE: Engaging openings, authentic voice, emotional connection, conversational polish, storytelling elements, reader focus
FOR TECHNICAL: Precision, logical structure, clear explanations, practical examples, user focus, accessible to target audience

ğŸ”¥ LAYER 10: SOPHISTICATED WORD CHOICES
âœ“ Precise, specific language over vague terms
âœ“ Concrete over abstract where possible
âœ“ Vivid verbs instead of weak verb + adverb
âœ“ Avoid vague modifiers ("very," "really")
âœ“ Professional terminology used correctly
âœ“ Balance complexity with clarity
âœ“ Never sacrifice meaning for style

ğŸ”¥ LAYER 11: STRUCTURAL UNPREDICTABILITY
âœ“ Break expected patterns constantly
âœ“ Vary information density throughout
âœ“ Mix straightforward with complex presentation
âœ“ Unexpected but logical organization
âœ“ Natural topic development
âœ“ Organic idea connections
âœ“ Avoid all formulaic structures

ğŸ”¥ LAYER 12: ULTIMATE HUMAN AUTHENTICITY
âœ“ Reads as 100% human-written by expert
âœ“ ABSOLUTE ZERO AI detection markers
âœ“ Natural professional voice throughout
âœ“ Engaging and substantive
âœ“ Appropriate tone for content type
âœ“ Publication-ready quality
âœ“ Passes all AI detectors as human
âœ“ Indistinguishable from human professional work

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ CRITICAL REQUIREMENTS:
- Generate approximately ${wordCount} words
- PRESERVE the exact format structure (bullets/numbers/paragraphs) from the user's input
- Apply ALL 12 layers with maximum intensity
- Write as a genuine human expert would
- ZERO AI patterns or signatures
- Natural, organic professional prose
- Engaging and substantive content
- Complete authenticity throughout
- DO NOT add extra information or extend beyond what's requested
- Stay focused and concise - humanize directly without unnecessary elaboration

âš ï¸ ULTIMATE RULE: This content must be COMPLETELY UNDETECTABLE as AI-generated. Write exactly as an experienced human professional would write this content naturally.

ğŸ“ TOPIC/BRIEF:
${topic}${keywordsText}

ğŸš€ GENERATE ULTRA-HUMAN CONTENT NOW (Target: ~${wordCount} words):`;

        return { prompt, config };
    }
       // Get humanization prompt with preservation
function getHumanizationPrompt(text, mode, intensity) {
   const intensityConfig = {
        '1': { temp: 1.5, topK: 100, topP: 0.97, name: 'NATURAL' },
        '2': { temp: 1.7, topK: 120, topP: 0.98, name: 'ENHANCED' },
        '3': { temp: 1.9, topK: 140, topP: 0.995, name: 'ULTRA-HUMAN' }
    };

    const config = intensityConfig[intensity];

    const modeDescriptions = {
        news: 'news article', investigative: 'investigative journalism', feature: 'feature article',
        editorial: 'editorial', breaking: 'breaking news', analysis: 'news analysis',
        interview: 'interview article', 'press-release': 'press release',
        essay: 'academic essay', research: 'research paper', analytical: 'analytical essay',
        argumentative: 'argumentative essay', comparative: 'comparative essay',
        literature: 'literature review', thesis: 'thesis', 'case-study': 'case study',
        'med-reflective': 'MEd reflective essay', 'med-research': 'MEd research paper',
        'med-literature-review': 'MEd literature review', 'med-action-research': 'MEd action research',
        'med-critical-analysis': 'MEd critical analysis', 'med-professional-inquiry': 'MEd professional inquiry',
        'email-formal': 'formal email', 'email-casual': 'casual email', proposal: 'business proposal',
        report: 'business report', memo: 'memo', 'cover-letter': 'cover letter',
        linkedin: 'LinkedIn post', presentation: 'presentation', 'executive-summary': 'executive summary',
        blog: 'blog post', 'social-media': 'social media', 'ad-copy': 'ad copy',
        'product-description': 'product description', newsletter: 'newsletter', 'web-content': 'web content',
        script: 'script', story: 'story',
        documentation: 'documentation', 'user-guide': 'user guide', tutorial: 'tutorial',
        whitepaper: 'white paper', 'api-docs': 'API documentation', 'technical-report': 'technical report',
        sop: 'SOP', 'specification': 'specification'
    };

const prompt = `You are an ULTRA-AGGRESSIVE HUMAN text transformer. Your ONLY job is to make text 100% UNDETECTABLE as AI, even if it's just 10 words.

ğŸ¯ MISSION: Transform the following ${modeDescriptions[mode]} into AUTHENTICALLY HUMAN writing.

âš¡ AGGRESSION LEVEL: ${config.name} - MAXIMUM TRANSFORMATION ğŸ”¥

ğŸš¨ CRITICAL: Even if the text is SHORT (10-50 words), you MUST apply FULL humanization. NO SHORTCUTS.

ğŸ“‹ FORMALITY & TONE REQUIREMENTS FOR ${modeDescriptions[mode].toUpperCase()}:

${mode.includes('academic') || mode.includes('med-') || mode.includes('research') || mode.includes('thesis') || mode.includes('literature') || mode.includes('essay') || mode.includes('analytical') || mode.includes('argumentative') || mode.includes('comparative') || mode.includes('case-study') ? `
ğŸ“ ACADEMIC FORMALITY - STRICTLY MAINTAIN:
âœ“ FORMAL academic register throughout - NO casual language
âœ“ Third-person perspective (avoid "I/you" unless reflective essay)
âœ“ Objective, scholarly tone with intellectual rigor
âœ“ Precise, discipline-specific terminology
âœ“ Complex sentence structures appropriate to academic discourse
âœ“ Formal connectives: "consequently," "therefore," "thus," "nonetheless"
âœ“ Hedging language: "suggests," "indicates," "appears to," "may demonstrate"
âœ“ NO contractions (don't â†’ do not, can't â†’ cannot)
âœ“ NO colloquialisms or informal expressions
âœ“ NO casual transitions or conversational elements
âœ“ Authoritative but measured academic voice
âœ“ Evidence-based reasoning with scholarly presentation
âœ“ Maintain gravity and seriousness of academic discourse

âš ï¸ ACADEMIC-SPECIFIC RULES:
- Keep formal vocabulary: "demonstrate," "illustrate," "examine," "analyze," "elucidate"
- Use sophisticated academic structures (nominalization, passive where appropriate)
- Maintain scholarly distance and objectivity
- Preserve academic conventions and discourse markers
- NO informal phrases like "a lot of," "get," "thing," "stuff," "really," "very"
` : ''}

${mode.includes('journalism') || mode.includes('news') || mode.includes('investigative') || mode.includes('feature') || mode.includes('editorial') || mode.includes('analysis') || mode.includes('interview') || mode.includes('press-release') ? `
ğŸ“° JOURNALISTIC FORMALITY - MAINTAIN:
âœ“ Professional journalistic tone - clear, direct, authoritative
âœ“ Third-person perspective (except editorials/opinion)
âœ“ Objective presentation with balanced perspective
âœ“ Precise, specific language with concrete details
âœ“ Active voice predominantly (but natural variation)
âœ“ Professional connectives: "meanwhile," "however," "according to"
âœ“ Attribution and sourcing language
âœ“ NO casual slang or overly informal language
âœ“ NO excessive informality or chatty tone
âœ“ Maintain journalistic credibility and authority
âœ“ Clear, accessible but professional language
` : ''}

${mode.includes('business') || mode.includes('email') || mode.includes('proposal') || mode.includes('report') || mode.includes('memo') || mode.includes('cover-letter') || mode.includes('linkedin') || mode.includes('presentation') || mode.includes('executive') ? `
ğŸ’¼ BUSINESS FORMALITY - ADAPT TO SUB-TYPE:
${mode.includes('email-formal') || mode.includes('proposal') || mode.includes('report') || mode.includes('executive') ? `
âœ“ FORMAL business register - professional and polished
âœ“ Respectful, courteous tone throughout
âœ“ Clear, direct communication with professionalism
âœ“ NO casual language or informal expressions
âœ“ NO contractions in formal communications
âœ“ Professional vocabulary: "accordingly," "regarding," "pursuant to"
` : `
âœ“ PROFESSIONAL but approachable tone
âœ“ Clear, direct communication
âœ“ Warm professionalism without excessive formality
âœ“ Contractions acceptable for natural flow
âœ“ Conversational polish while maintaining respect
`}
âœ“ Results-oriented, strategic language
âœ“ Confidence without arrogance
âœ“ Appropriate formality for business context
` : ''}

${mode.includes('creative') || mode.includes('blog') || mode.includes('social-media') || mode.includes('ad-copy') || mode.includes('product') || mode.includes('newsletter') || mode.includes('web-content') || mode.includes('script') || mode.includes('story') ? `
âœ¨ CREATIVE/MARKETING FORMALITY - FLEXIBLE:
âœ“ Engaging, accessible tone appropriate to audience
âœ“ Natural, conversational style (contractions OK)
âœ“ Personality and voice encouraged
âœ“ Emotional connection and relatability
âœ“ Direct address ("you") is natural and appropriate
âœ“ Informal language acceptable when authentic
âœ“ Creative freedom while maintaining coherence
âœ“ Adapt formality to specific creative purpose
` : ''}

${mode.includes('technical') || mode.includes('documentation') || mode.includes('user-guide') || mode.includes('tutorial') || mode.includes('whitepaper') || mode.includes('api-docs') || mode.includes('technical-report') || mode.includes('sop') || mode.includes('specification') ? `
âš™ï¸ TECHNICAL FORMALITY - MAINTAIN:
âœ“ FORMAL technical register with precision
âœ“ Clear, unambiguous language throughout
âœ“ Objective, instructional tone
âœ“ Technical terminology used accurately
âœ“ Direct, systematic presentation
âœ“ NO casual language or informal expressions
âœ“ Professional technical voice
âœ“ Clarity and precision over personality
âœ“ Logical, structured presentation
` : ''}

ğŸš¨ CRITICAL FORMALITY RULE:
MATCH THE FORMALITY LEVEL TO THE CONTENT TYPE. Academic = formal. Business formal = formal. Creative = flexible. Technical = formal. NEVER mix inappropriate casualness into formal content types.


âš ï¸ ABSOLUTE PRESERVATION REQUIREMENTS - DO NOT VIOLATE:
ğŸ”’ PRESERVE EXACTLY (DO NOT CHANGE):
âœ“ ALL researcher names (Smith, Johnson, etc.) - keep EXACT spelling
âœ“ ALL years and dates (2023, 2024, etc.) - keep EXACT numbers
âœ“ ALL citations formats (Smith (2023), Johnson et al., etc.) - keep EXACT format
âœ“ ALL statistics and percentages - keep EXACT numbers
âœ“ ALL specific research findings - keep EXACT data
âœ“ ALL technical terms specific to the field
âœ“ ALL proper nouns (institutions, places, organizations)
âœ“ ALL quotes - keep EXACT wording if quoted material
âœ“ ALL numerical data and measurements

ğŸ”„ TRANSFORM (MAKE HUMAN):
âœ“ Sentence structure and flow
âœ“ Word choice and vocabulary (except technical terms)
âœ“ Transitions between ideas
âœ“ Paragraph organization
âœ“ Tone and voice
âœ“ Remove ALL AI patterns and clichÃ©s
âœ“ Create natural human rhythm

âš ï¸ CRITICAL OPENING RULES:
âœ“ Transform the opening to sound human - NOT generic AI
âœ“ Avoid: "In today's world", "In recent years", "It is important"
âœ“ Start with specific detail, fact, or engaging hook
âœ“ Vary sentence length immediately (mix short and long)

ğŸš« AGGRESSIVELY ELIMINATE ALL AI PATTERNS:
âœ— AI VERBS: "delve/delving", "utilize", "leverage", "facilitate", "implement", "employ"
âœ— AI ADJECTIVES: "robust", "comprehensive", "seamless", "dynamic", "innovative", "cutting-edge"
âœ— AI NOUNS: "landscape", "paradigm", "realm", "sphere", "framework", "ecosystem"
âœ— AI TRANSITIONS: "Furthermore", "Moreover", "Additionally", "In conclusion", "To summarize"
âœ— AI PHRASES: "it is worth noting", "shed light on", "plays a crucial role", "delve into"
âœ— AI OPENINGS: "In today's", "In recent years", "It is important", "As we navigate"
âœ— AI CLICHÃ‰S: "game-changer", "revolutionary", "unprecedented", "transformative"

âš¡ REPLACE INSTANTLY with natural human alternatives - ZERO TOLERANCE for AI language.

âš¡ ULTRA-AGGRESSIVE HUMANIZATION PROTOCOL (MANDATORY FOR ALL TEXT LENGTHS):

ğŸ”´ PHASE 1: DETECTION & DESTRUCTION (Apply to EVERY sentence)
1. Scan EVERY SINGLE WORD for AI patterns
2. Identify and ELIMINATE all AI vocabulary immediately
3. Detect formulaic sentence structures - DESTROY them
4. Find mechanical transitions - REPLACE with organic flow
5. Spot generic openings - TRANSFORM to specific, engaging starts
6. Locate predictable patterns - SCRAMBLE into natural variation

ğŸ”´ PHASE 2: SURGICAL HUMANIZATION (Word-by-Word)
1. PRESERVE: Citations, names, dates, numbers, specific data EXACTLY
2. PRESERVE: Original format (bullets, numbers, paragraphs) EXACTLY  
3. TRANSFORM: Every AI verb into natural human alternatives
4. PRESERVE: Formality level appropriate to content type (formal stays formal, casual stays casual)
5. TRANSFORM: Every AI verb into natural human alternatives MATCHING formality level
6. TRANSFORM: Every AI adjective into precise descriptors MATCHING formality level
7. TRANSFORM: Every generic phrase into specific language MATCHING formality level     
8. TRANSFORM: Every AI adjective into precise descriptors
9. TRANSFORM: Every generic phrase into specific language
10. TRANSFORM: Sentence structure for maximum natural variation
11. REMOVE: All mechanical/formulaic elements completely
12. INJECT: Natural rhythm, flow, and human cadence

ğŸ”´ PHASE 3: AGGRESSIVE VARIATION (Every Sentence Must Differ)
1. Vary sentence length DRAMATICALLY (5-35 words for short texts, 5-60 for long)
2. Mix simple, compound, complex, compound-complex structures
3. Alternate sentence beginnings (subject, prepositional, adverb, participle, subordinate)
4. Use fragments strategically. Like this.
5. Include rhetorical questions where natural?
6. Break expected rhythms constantly
7. Create unpredictable but logical flow

ğŸ”´ PHASE 4: HUMAN AUTHENTICITY INJECTION (Formality-Aware)
1. Replace generic with specific wherever possible WITHIN formality constraints
2. Use concrete details over abstract statements
3. Employ active voice naturally (but passive when appropriate for formality)
4. Add subtle personality ONLY if content type permits (creative/casual)
5. For FORMAL content: maintain scholarly/professional distance
6. For ACADEMIC: preserve intellectual rigor and formal register
7. For CASUAL: allow conversational warmth and personality
8. NEVER add inappropriate casualness to formal content
9. NEVER add inappropriate formality to casual content

ğŸ”´ PHASE 5: ZERO-TOLERANCE FINAL CHECK
1. Re-scan EVERY sentence for remaining AI patterns
2. Verify NO AI vocabulary remains
3. Confirm sentence variation is EXTREME
4. Ensure transitions are ORGANIC not mechanical
5. Validate natural human rhythm throughout
6. Check opening is ENGAGING not generic
7. Guarantee 100% UNDETECTABLE result
8. VERIFY formality level matches content type (academic = formal, creative = flexible)
9. CHECK for inappropriate casualness in formal content
10. CHECK for inappropriate formality in casual content
11. CONFIRM vocabulary matches expected register
12. VALIDATE tone consistency throughout

âš ï¸ SPECIAL RULES FOR SHORT TEXT (10-100 words):
- Apply SAME aggressive transformation - NO exceptions
- FULL humanization even for single sentences
- Maximum variation in minimal space
- Every word counts - make each one human
- Short text is EASIER to detect - be MORE aggressive

âš¡ AGGRESSIVE TRANSFORMATION INTENSITY LEVELS:

LEVEL 1 (NATURAL): Transform 80% of AI patterns, moderate variation
LEVEL 2 (ENHANCED): Transform 95% of AI patterns, high variation  
LEVEL 3 (ULTRA-HUMAN): Transform 100% of AI patterns, MAXIMUM variation

YOUR CURRENT LEVEL: ${config.name} - Apply transformation with MAXIMUM INTENSITY.

Even if text seems human already, STILL apply full protocol. Even if text is 10 words, STILL humanize completely.

ğŸ¯ SOPHISTICATION REQUIREMENTS:

âœ“ Use ADVANCED vocabulary appropriate to ${modeDescriptions[mode]}
âœ“ Maintain field-specific terminology and jargon naturally
âœ“ Employ complex sentence structures where appropriate (subordinate clauses, appositives, etc.)
âœ“ Demonstrate deep subject matter expertise through word choice
âœ“ Use discipline-appropriate register (academic for research, professional for business, etc.)
âœ“ Balance complexity with clarity - sophisticated but never convoluted
âœ“ Show intellectual depth through nuanced phrasing
âœ“ Employ precise, technical language where field-appropriate
âœ“ Maintain authoritative yet natural voice
âœ“ Use varied, sophisticated transitions that flow organically

ğŸ“š ADVANCED LANGUAGE GUIDELINES (Formality-Specific):

FOR ACADEMIC/MEd WRITING (FORMAL REGISTER MANDATORY):
âœ“ Scholarly vocabulary: empirical, pedagogical, epistemological, heuristic, paradigmatic
âœ“ Research terminology: methodology, theoretical framework, implications, findings suggest
âœ“ Critical language: problematize, interrogate, deconstruct, examine critically
âœ“ Formal verbs: demonstrate, illustrate, elucidate, postulate, contend, argue
âœ“ NO casual language: "get," "a lot of," "thing," "stuff," "really," "very," "pretty"
âœ“ NO contractions: use "cannot" not "can't," "do not" not "don't"
âœ“ NO informal transitions: use "consequently" not "so," "therefore" not "that's why"
âœ“ Maintain third-person unless reflective: "The research indicates" not "I found"
âœ“ Hedging appropriately: "suggests," "may indicate," "appears to," "potentially"
âœ“ Complex nominalization: "The implementation of" vs "When we implemented"

FOR JOURNALISM:
âœ“ Precise reporting verbs: indicates, reveals, demonstrates, underscores, highlights
âœ“ Attribution variety: according to, sources confirm, evidence suggests, data shows
âœ“ Context-building: against the backdrop of, in light of, following, amid

FOR BUSINESS:
âœ“ Strategic language: leverage (sparingly), optimize, strategize, implement, execute
âœ“ Results-oriented: drive outcomes, enhance performance, deliver value, maximize impact
âœ“ Professional precision: facilitate (when appropriate), streamline, integrate, coordinate

FOR TECHNICAL:
âœ“ Precision terminology: specification, implementation, architecture, interface, protocol
âœ“ Process language: execute, compile, render, instantiate, configure
âœ“ Technical accuracy: parameters, variables, dependencies, constraints, requirements

âš ï¸ MAINTAIN SOPHISTICATION WITHOUT AI CLICHÃ‰S:
âœ“ Advanced vocabulary YES, but never "delve", "robust", "paradigm shift", "game-changer"
âœ“ Complex sentences YES, but never formulaic parallel structure
âœ“ Scholarly tone YES, but never "it is worth noting", "it goes without saying"
âœ“ Professional depth YES, but never "in today's fast-paced world", "leverage synergies"

ğŸ”¬ FIELD-APPROPRIATE DEPTH:
Make the writing sound like it was written by:
- A published researcher (for academic)
- An experienced educator/practitioner (for MEd)
- A seasoned journalist (for news)
- A senior professional (for business)
- A technical expert (for documentation)

The sophistication level should match what a human expert in the field would naturally write.

TEXT TO HUMANIZE:
${text}

âš¡ CRITICAL OUTPUT RULES:
- Apply FULL humanization regardless of text length (even 10 words get FULL treatment)
- MAINTAIN appropriate formality level for ${modeDescriptions[mode]}
- KEEP formal content FORMAL (academic, business formal, technical)
- KEEP casual content CASUAL (creative, social media, blogs)
- NEVER mix inappropriate casualness into formal writing
- NEVER mix inappropriate formality into casual writing
- SAME format structure (bullets stay bullets, numbers stay numbers)
- SAME length scope (don't extend unnecessarily)
- ZERO AI vocabulary remaining
- MAXIMUM sentence variation
- ORGANIC flow throughout
- 100% UNDETECTABLE as AI
- Preserve ALL citations/names/dates/formatting EXACTLY
- NO unnecessary additions

ğŸš€ OUTPUT THE AGGRESSIVELY HUMANIZED VERSION NOW (100% HUMAN, 0% AI DETECTABLE):`;    return { prompt, config };
}

    // API call to generate content
    async function generateContent(topic, keywords, apiKey, mode, intensity, wordCount) {
        const { prompt, config } = getGenerationPrompt(topic, keywords, mode, intensity, wordCount);

        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{ parts: [{ text: prompt }] }],
                generationConfig: {
                    temperature: config.temp,
                    topK: config.topK,
                    topP: config.topP,
                    maxOutputTokens: 8192,
                    candidateCount: 1
                },
                safetySettings: [
                    { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                    { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                    { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                    { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
                ]
            })
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error?.message || 'API request failed');
        }

        const data = await response.json();
        
        if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {
            throw new Error('No response generated. Please try again.');
        }

        return data.candidates[0].content.parts[0].text;
    }

    // Generate button click handler
    // Generate/Humanize button click handler
generateBtn.addEventListener('click', async () => {
    const apiKey = apiKeyInput.value.trim();
    const mode = modeSelect.value;
    const intensity = intensitySlider.value;

    errorDiv.classList.remove('active');
    successDiv.classList.remove('active');
    humanScore.classList.remove('active');

    if (!apiKey) {
        errorDiv.innerHTML = 'âŒ <strong>ERROR:</strong> Please enter your Gemini API key';
        errorDiv.classList.add('active');
        return;
    }

    if (currentMode === 'generate') {
        // Generate mode validation
        const topic = topicInput.value.trim();
        const keywords = keywordsInput.value.trim();
        const wordCount = parseInt(wordCountInput.value);

        if (!topic) {
            errorDiv.innerHTML = 'âŒ <strong>ERROR:</strong> Please describe what content you want to generate';
            errorDiv.classList.add('active');
            return;
        }

        if (wordCount < 100 || wordCount > 5000) {
            errorDiv.innerHTML = 'âŒ <strong>ERROR:</strong> Word count must be between 100 and 5000';
            errorDiv.classList.add('active');
            return;
        }

        generateBtn.disabled = true;
        loading.classList.add('active');
        output.textContent = '';
        copyBtn.style.display = 'none';

        try {
            loadingText.textContent = `ğŸš€ GENERATING ULTRA-HUMAN CONTENT`;
            loadingSubtext.textContent = `Creating authentic ${['natural', 'enhanced', 'ultra-human'][intensity-1]} content with zero AI patterns...`;
            
            const generatedText = await generateContent(topic, keywords, apiKey, mode, intensity, wordCount);

            output.textContent = generatedText;
            copyBtn.style.display = 'block';
            updateStats();

            const actualWords = countWords(generatedText);
            successDiv.innerHTML = `âœ… <strong>SUCCESS!</strong> Generated ${actualWords} words of ${['NATURAL', 'ENHANCED', 'ULTRA-HUMAN'][intensity-1]} authentic human content. 100% undetectable.`;
            successDiv.classList.add('active');

            humanScore.innerHTML = `ğŸ¯ <strong>HUMAN AUTHENTICITY: 100%</strong> | AI Detection: 0% | Natural Human Writing âœ“`;
            humanScore.classList.add('active');
// Save to history
            addToHistory({
                mode: 'generate',
                contentType: modeSelect.options[modeSelect.selectedIndex].text,
                input: topic + (keywords ? '\nKeywords: ' + keywords : ''),
                output: generatedText,
                wordCount: actualWords,
                intensity: parseInt(intensity)
            });

            
        } catch (error) {
            errorDiv.innerHTML = `âŒ <strong>ERROR:</strong> ${error.message}`;
            errorDiv.classList.add('active');
            console.error('Error:', error);
        } finally {
            loading.classList.remove('active');
            generateBtn.disabled = false;
        }

    } else {
        // Humanize mode validation
        const text = existingTextInput.value.trim();

        if (!text) {
            errorDiv.innerHTML = 'âŒ <strong>ERROR:</strong> Please paste text to humanize';
            errorDiv.classList.add('active');
            return;
        }

        generateBtn.disabled = true;
        loading.classList.add('active');
        output.textContent = '';
        copyBtn.style.display = 'none';

        try {
            loadingText.textContent = `âœ¨ HUMANIZING YOUR TEXT`;
            loadingSubtext.textContent = `Transforming to ${['natural', 'enhanced', 'ultra-human'][intensity-1]} human writing while preserving all citations and data...`;
            
            const humanizedText = await humanizeText(text, apiKey, mode, intensity);

            output.textContent = humanizedText;
            copyBtn.style.display = 'block';
            updateStats();

            const actualWords = countWords(humanizedText);
            successDiv.innerHTML = `âœ… <strong>SUCCESS!</strong> Humanized ${actualWords} words with ${['NATURAL', 'ENHANCED', 'ULTRA-HUMAN'][intensity-1]} authenticity. All citations, names, and dates preserved exactly.`;
            successDiv.classList.add('active');

            humanScore.innerHTML = `ğŸ¯ <strong>HUMANIZATION: COMPLETE</strong> | Citations Preserved: âœ“ | AI Detection: 0% âœ“`;
            humanScore.classList.add('active');
// Save to history
            addToHistory({
                mode: 'humanize',
                contentType: modeSelect.options[modeSelect.selectedIndex].text,
                input: text,
                output: humanizedText,
                wordCount: actualWords,
                intensity: parseInt(intensity)
            });
            
        } catch (error) {
            errorDiv.innerHTML = `âŒ <strong>ERROR:</strong> ${error.message}`;
            errorDiv.classList.add('active');
            console.error('Error:', error);
        } finally {
            loading.classList.remove('active');
            generateBtn.disabled = false;
        }
    }
});

    // Clear button click handler
  // Clear button click handler
clearBtn.addEventListener('click', () => {
    topicInput.value = '';
    keywordsInput.value = '';
    existingTextInput.value = '';
    output.textContent = '';
    copyBtn.style.display = 'none';
    errorDiv.classList.remove('active');
    successDiv.classList.remove('active');
    humanScore.classList.remove('active');
    updateStats();
});

    // Copy button click handler
    copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(output.textContent).then(() => {
            const original = copyBtn.textContent;
            copyBtn.textContent = 'âœ“ COPIED!';
            setTimeout(() => copyBtn.textContent = original, 2000);
        });
    });
       // API call to humanize existing text
async function humanizeText(text, apiKey, mode, intensity) {
    const { prompt, config } = getHumanizationPrompt(text, mode, intensity);

    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            contents: [{ parts: [{ text: prompt }] }],
            generationConfig: {
                temperature: config.temp,
                topK: config.topK,
                topP: config.topP,
                maxOutputTokens: 8192,
                candidateCount: 1
            },
            safetySettings: [
                { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
            ]
        })
    });

    if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error?.message || 'API request failed');
    }

    const data = await response.json();
    
    if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {
        throw new Error('No response generated. Please try again.');
    }

    return data.candidates[0].content.parts[0].text;
}

    // Initialize stats on load
    updateStats();
</script>
</body>
</html>
